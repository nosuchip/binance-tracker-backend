(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"04f1":function(t,e,a){"use strict";var n=a("419e"),r=a.n(n);r.a},"0ebf":function(t,e,a){"use strict";var n=a("c938"),r=a.n(n);r.a},"127a":function(t,e,a){},"419e":function(t,e,a){},"41f49":function(t,e,a){"use strict";var n=a("ffa3"),r=a.n(n);r.a},"4c96":function(t,e,a){},"542e":function(t,e,a){"use strict";var n=a("5ef9"),r=a.n(n);r.a},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"5ef9":function(t,e,a){},"74d3":function(t,e,a){"use strict";var n=a("a86b"),r=a.n(n);r.a},8496:function(t,e,a){"use strict";var n=a("c9f3"),r=a.n(n);r.a},"8d59":function(t,e,a){},"9c0c":function(t,e,a){},"9efc":function(t,e,a){"use strict";var n=a("127a"),r=a.n(n);r.a},a071:function(t,e,a){"use strict";var n=a("c25f"),r=a.n(n);r.a},a3ae:function(t,e,a){"use strict";var n=a("8d59"),r=a.n(n);r.a},a86b:function(t,e,a){},c25f:function(t,e,a){},c938:function(t,e,a){},c999:function(t,e,a){"use strict";var n=a("4c96"),r=a.n(n);r.a},c9f3:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("v-img",{attrs:{alt:"BinanceTracker",contain:"",src:a("cf05"),transition:"scale-transition",height:"45",width:"50"}}),n("div",{staticClass:"text-h5"})],1),n("v-spacer"),t.isLoggedOn?t._e():n("v-btn",{attrs:{to:{name:"login"}}},[t._v("Login")]),t.isLoggedOn?n("v-btn",{on:{click:t.handleLogout}},[t._v("Logout")]):t._e()],1),t.hideControls?t._e():n("drawer"),n("v-main",[n("router-view")],1),n("loader")],1)},i=[],s=(a("b0c0"),a("d4ec")),o=a("bee2"),l=a("262e"),c=a("2caf"),u=a("9ab4"),d=a("60a3"),p=a("4bb5"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-overlay",{staticClass:"loading-indicator",attrs:{value:t.loading,"z-index":"999"}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}}),t.message?a("div",{staticClass:"text-h5"},[t._v(t._s(t.message))]):t._e()],1)},f=[],h=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(d["d"]);Object(u["a"])([Object(p["c"])("loading")],h.prototype,"loading",void 0),Object(u["a"])([Object(p["c"])("loadingMessage")],h.prototype,"message",void 0),h=Object(u["a"])([Object(d["a"])({components:{}})],h);var b=h,m=b,g=(a("a071"),a("2877")),O=a("6544"),_=a.n(O),y=a("a797"),k=a("490a"),j=Object(g["a"])(m,v,f,!1,null,null,null),x=j.exports;_()(j,{VOverlay:y["a"],VProgressCircular:k["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user&&"admin"===t.user.role?a("v-navigation-drawer",{attrs:{app:"",permanent:"","expand-on-hover":""},scopedSlots:t._u([{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-btn",{attrs:{block:""},on:{click:t.handleLogout}},[t._v("Logout")])],1)]},proxy:!0}],null,!1,1319748372)},[a("drawer-account"),a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},t._l(t.routes,(function(e,n){return a("v-list-item",{key:n,attrs:{link:"",to:e.url}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-title",[t._v(t._s(e.title))])],1)})),1)],1):t._e()},w=[],C=(a("4de4"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("v-list",[a("v-list-item",{staticClass:"px-2"},[a("v-list-item-avatar",[a("gravatar",{attrs:{email:t.user.email,defaultImage:"mp",size:100}})],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.user.name)+" ["+t._s(t.user.role)+"]")]),a("v-list-item-subtitle",[t._v(t._s(t.user.email))])],1)],1)],1):t._e()}),P=[],L=a("e06a"),E=a.n(L),T=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(d["d"]);Object(u["a"])([Object(p["c"])("user")],T.prototype,"user",void 0),T=Object(u["a"])([Object(d["a"])({components:{Gravatar:E.a}})],T);var V=T,$=V,A=a("8860"),I=a("da13"),R=a("8270"),N=a("5d23"),D=Object(g["a"])($,C,P,!1,null,null,null),U=D.exports;_()(D,{VList:A["a"],VListItem:I["a"],VListItemAvatar:R["a"],VListItemContent:N["a"],VListItemSubtitle:N["b"],VListItemTitle:N["c"]});var H={LOADING:"LOADING",SET_USER:"SET_USER",SET_AUTH_TOKEN:"SET_AUTH_TOKEN",SET_SIGNALS:"SET_SIGNALS",SET_AVAILABLE_SIGNALS:"SET_AVAILABLE_SIGNALS"},q={LOGIN:"LOGIN",LOGOUT:"LOGOUT",CHECK_AUTH_TOKEN:"CHECK_AUTH_TOKEN",LOAD_SIGNALS:"LOAD_SIGNALS"},F=function(t){t.commit(H.SET_AUTH_TOKEN,{token:""}),t.commit(H.SET_USER,{user:null})},G=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"handleLogout",value:function(){F(this.$store)}},{key:"routes",get:function(){var t,e=null===(t=this.$router.options)||void 0===t?void 0:t.routes;return e?e.map((function(t){var e=t.meta;return!(!e||!e.showInMenu)&&{title:e.title||t.name,url:t.path,icon:e.icon}})).filter((function(t){return!!t})):[]}}]),a}(d["d"]);Object(u["a"])([Object(p["c"])("user")],G.prototype,"user",void 0),G=Object(u["a"])([Object(d["a"])({components:{DrawerAccount:U}})],G);var M=G,B=M,K=(a("74d3"),a("8336")),Y=a("ce7e"),J=a("132d"),z=a("34c3"),W=a("f774"),Z=Object(g["a"])(B,S,w,!1,null,"64b3e475",null),Q=Z.exports;_()(Z,{VBtn:K["a"],VDivider:Y["a"],VIcon:J["a"],VList:A["a"],VListItem:I["a"],VListItemIcon:z["a"],VListItemTitle:N["c"],VNavigationDrawer:W["a"]});a("c740"),a("4160"),a("a15b"),a("159b");var X=a("5530"),tt=a("faa1"),et=a("d096"),at=a("5c7d"),nt=a.n(at),rt=(a("99af"),a("2f62")),it=a("0e44"),st={loading:!1,loadingMessage:"",user:null,token:null,signals:[],available:[]},ot=a("ade3"),lt=(a("96cf"),a("1da1")),ct=a("8c4f"),ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"Dashboard",attrs:{fluid:""}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"info-cell"}),a("th",{staticClass:"currency"},[t._v(" "+t._s(t.$t("Currency"))+" ")]),a("th",{staticClass:"published-at"},[t._v(" "+t._s(t.$t("Published"))+" ")]),a("th",{staticClass:"entry-price"},[t._v(" "+t._s(t.$t("Entry price"))+" ")]),a("th",{staticClass:"current-price"},[t._v(" "+t._s(t.$t("Current price"))+" ")]),a("th",{staticClass:"profitability"},[t._v(" "+t._s(t.$t("Profitability"))+" ")]),a("th",{staticClass:"status"},[t._v(" "+t._s(t.$t("Status"))+" ")]),a("th")])]),a("tbody",[t._l(t.signals,(function(t,e){return[a("public-signal-row",{key:e,attrs:{value:t,odd:!(e%2)}})]}))],2)]},proxy:!0}])})],1)},dt=[],pt=a("2909"),vt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"setLoading",value:function(t){this.$store.commit(H.LOADING,{loading:t})}}]),a}(d["d"]);vt=Object(u["a"])([d["a"]],vt);var ft=vt,ht=10,bt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.pagination={lastPage:1,page:0,prev:0,next:0,perPage:ht,total:0,hasNext:!1,hasPrev:!1,filter:""},t.items=[],t}return Object(o["a"])(a,[{key:"updatePagination",value:function(t){this.pagination.page=t.pagination.page,this.pagination.prev=t.pagination.prev,this.pagination.next=t.pagination.next,this.pagination.perPage=t.pagination.perPage,this.pagination.total=t.pagination.total,this.pagination.hasPrev=t.pagination.hasPrev,this.pagination.hasNext=t.pagination.hasNext,this.pagination.lastPage=Math.floor(t.pagination.total/this.pagination.perPage),this.items=t.data}}]),a}(d["d"]);bt=Object(u["a"])([d["a"]],bt);var mt=bt,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{class:"PublicSignalRow "+(t.odd?"odd":"")},[a("td",[a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({attrs:{color:"grey lighten-1"}},"v-icon",r,!1),n),[t._v(" mdi-information-variant ")])]}}])},[a("span",[t._v(t._s(t.tooltip))])])],1),a("td",[t._v(t._s(t.model.title||t.model.ticker))]),a("td",[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"published-at-data"},[t._v(" "+t._s(t._f("dayjs")(t.model.createdAt,"format","HH:mm DD.MM.YYYY"))+" ")]),a("div",{staticClass:"updated-at-data font-small"},[t._v(" "+t._s(t.$t("updated at"))+" "+t._s(t._f("dayjs")(t.model.updatedAt,"format","HH:mm DD.MM.YYYY"))+" ")])])]),a("td",[t._v(t._s(t.model.price||"-"))]),a("td",[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"current-price"},[t._v(" "+t._s(t.model.lastPrice||"-")+" ")]),a("div",{staticClass:"remainings"},[t._v(t._s(t.$t("remains in position"))+": "+t._s(t.remainings))])])]),a("td",[t._v(t._s(t.profitability))]),a("td",[t._v(" "+t._s(t.status)+" "),a("v-btn",{attrs:{icon:"","x-small":""},on:{click:function(e){e.stopPropagation(),t.showSignalStatusHelp=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-information-outline")])],1),a("popup",{attrs:{title:t.$t("Signal statuses"),text:t.$t("statusesHelp")},model:{value:t.showSignalStatusHelp,callback:function(e){t.showSignalStatusHelp=e},expression:"showSignalStatusHelp"}})],1),a("td",{staticClass:"details"},[a("v-badge",{attrs:{color:"green",overlap:"",content:t.comments}},[a("v-btn",{staticClass:"details-button",attrs:{disabled:!t.accessible,small:"",color:"warning",to:t.accessible?{name:"signal-view",params:{signalId:t.model.id}}:""}},[t.accessible?t._e():a("v-icon",{attrs:{small:""}},[t._v("mdi-lock")]),t._v(" "+t._s(t.$t("Details"))+" ")],1)],1)],1)])},Ot=[],_t=(a("caad"),a("b680"),a("d3b7"),a("25f0"),a("15fd")),yt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"model",get:function(){return this.value},set:function(t){var e=this.model;Object.prototype.hasOwnProperty.call(e,"changed")&&(e.changed=!0),this.$emit("input",t)}}]),a}(d["d"]);Object(u["a"])([Object(d["c"])({required:!0})],yt.prototype,"value",void 0),yt=Object(u["a"])([d["a"]],yt);var kt=yt,jt=a("9b02"),xt=a.n(jt),St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{staticClass:"Popup",attrs:{"max-width":"290"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[a("v-card",[t.title?a("v-card-title",{staticClass:"headline",domProps:{innerHTML:t._s(t.title)}}):t._e(),a("v-card-text",{domProps:{innerHTML:t._s(t.text)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){e.stopPropagation(),t.model=!1}}},[t._v(" Close ")])],1)],1)],1)},wt=[],Ct=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(Object(d["b"])(kt));Object(u["a"])([Object(d["c"])({type:String,required:!1})],Ct.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({type:String,required:!0})],Ct.prototype,"text",void 0),Ct=Object(u["a"])([Object(d["a"])({components:{}})],Ct);var Pt=Ct,Lt=Pt,Et=a("b0af"),Tt=a("99d9"),Vt=a("169a"),$t=a("2fa4"),At=Object(g["a"])(Lt,St,wt,!1,null,null,null),It=At.exports;_()(At,{VBtn:K["a"],VCard:Et["a"],VCardActions:Tt["a"],VCardText:Tt["b"],VCardTitle:Tt["c"],VDialog:Vt["a"],VSpacer:$t["a"]});var Rt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.showSignalStatusHelp=!1,t}return Object(o["a"])(a,[{key:"comments",get:function(){return(xt()(this.model.comments,"length")||0).toString()}},{key:"accessible",get:function(){return!this.model.paid||this.user&&["admin","paid user"].includes(this.user.role)}},{key:"status",get:function(){var t={delayed:this.$t("Delayed"),active:this.$t("Active"),finished:this.$t("Finished"),cancelled:this.$t("Cancelled")};return t[this.model.status]}},{key:"profitability",get:function(){return this.model.profitability&&this.model.price?(100*(this.model.profitability/this.model.price-1)).toFixed(3)+"%":"-"}},{key:"remainings",get:function(){return!this.model.remaining||isNaN(this.model.remaining)?"0":"".concat((100*this.model.remaining).toFixed(2),"%")}},{key:"tooltip",get:function(){if(this.model.comment_localized){var t=this.model.comment_localized,e=t.key,a=Object(_t["a"])(t,["key"]);return a.title||(a.title=a.ticker),this.$t(e,a)}return this.model.comment?this.model.comment:this.model.title||this.model.ticker}}]),a}(Object(d["b"])(kt));Object(u["a"])([Object(p["c"])("user")],Rt.prototype,"user",void 0),Object(u["a"])([Object(d["c"])({default:!1})],Rt.prototype,"odd",void 0),Rt=Object(u["a"])([Object(d["a"])({components:{Popup:It},mixins:[kt]})],Rt);var Nt=Rt,Dt=Nt,Ut=(a("8496"),a("4ca6")),Ht=a("3a2f"),qt=Object(g["a"])(Dt,gt,Ot,!1,null,"7019ddd2",null),Ft=qt.exports;_()(qt,{VBadge:Ut["a"],VBtn:K["a"],VIcon:J["a"],VTooltip:Ht["a"]});var Gt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"fetch",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setLoading(!0),t.next=4,this.loadSignals({page:this.pagination.page,perPage:this.pagination.perPage,filter:this.pagination.filter});case 4:e=t.sent,this.pagination.page=e.pagination.page,this.pagination.prev=e.pagination.prev,this.pagination.next=e.pagination.next,this.pagination.perPage=e.pagination.perPage,this.pagination.total=e.pagination.total,this.pagination.hasPrev=e.pagination.hasPrev,this.pagination.hasNext=e.pagination.hasNext,this.pagination.lastPage=Math.floor(e.pagination.total/this.pagination.perPage),this.items=[].concat(Object(pt["a"])(this.items),Object(pt["a"])(e.data)),t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](0);case 18:return t.prev=18,this.setLoading(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[0,16,18,21]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.fetch()}}]),a}(Object(d["b"])(ft,mt));Object(u["a"])([Object(p["c"])("signals")],Gt.prototype,"signals",void 0),Object(u["a"])([Object(p["a"])(q.LOAD_SIGNALS)],Gt.prototype,"loadSignals",void 0),Gt=Object(u["a"])([Object(d["a"])({components:{PublicSignalRow:Ft},mixins:[ft,mt]})],Gt);var Mt=Gt,Bt=Mt,Kt=(a("41f49"),a("a523")),Yt=a("1f4f"),Jt=Object(g["a"])(Bt,ut,dt,!1,null,"418409e9",null),zt=Jt.exports;_()(Jt,{VContainer:Kt["a"],VSimpleTable:Yt["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"Account--Login fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-account",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.handleLogin}},[t._v("Login")])],1)],1)],1)],1)],1)},Zt=[],Qt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.username="",t.password="",t}return Object(o["a"])(a,[{key:"handleLogin",value:function(){this.login({username:this.username,password:this.password})}}]),a}(d["d"]);Object(u["a"])([Object(p["a"])(q.LOGIN)],Qt.prototype,"login",void 0),Qt=Object(u["a"])([Object(d["a"])({components:{}})],Qt);var Xt=Qt,te=Xt,ee=a("62ad"),ae=a("4bd4"),ne=a("0fd9"),re=a("8654"),ie=a("71d9"),se=a("2a7f"),oe=Object(g["a"])(te,Wt,Zt,!1,null,null,null),le=oe.exports;_()(oe,{VBtn:K["a"],VCard:Et["a"],VCardActions:Tt["a"],VCardText:Tt["b"],VCol:ee["a"],VContainer:Kt["a"],VForm:ae["a"],VRow:ne["a"],VSpacer:$t["a"],VTextField:re["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"SignalsList",attrs:{fluid:""}},[a("v-custom-table",{attrs:{title:"Signals",headers:t.headers,items:t.items,perPage:t.pagination.perPage,total:t.pagination.total,loading:t.loading,onOptionsChange:t.handleTableChange,onSearchChange:t.handleTableSearch,onRowClick:t.handleRowClick,onRefresh:t.fetch,newItemUrl:"/signals/new"}},[a("template",{slot:"search"},[a("v-text-field",{staticClass:"mr-2 search-field",attrs:{"append-icon":"mdi-magnify",label:"Search by ticker","single-line":"","hide-details":"",dense:""},on:{keyup:function(e){return t.handleTableSearch(e.target.value)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],2)],1)},ue=[],de=(a("ac1f"),a("841c"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.title)+" "),a("v-btn",{attrs:{icon:"",color:"green"},on:{click:t.handleRefresh}},[a("v-icon",[t._v("mdi-cached")])],1),t.newItemUrl?a("v-btn",{attrs:{icon:"",color:"info",to:t.newItemUrl}},[a("v-icon",[t._v("mdi-plus")])],1):t._e(),t._t("toolbar"),a("v-spacer"),t._t("search",[t.disableSearch?t._e():a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{"click:append":t.searchChanged},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})])],2),a("v-data-table",{class:t.getClass,attrs:{headers:t.getHeaders,items:t.items,"items-per-page":t.perPage,options:t.options,"server-items-length":t.total},on:{"update:options":function(e){t.options=e},"click:row":t.handleRowClick},scopedSlots:t._u([t._l(t.itemSlots,(function(e,n){return{key:e.name,fn:function(r){return[a("div",{key:n,domProps:{innerHTML:t._s(e.template(r))}})]}}}))],null,!0)})],1)],1)],1)}),pe=[],ve=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.options={page:t.page,itemsPerPage:t.perPage,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1},t.debounceSearch=null,t.search="",t}return Object(o["a"])(a,[{key:"handleRowClick",value:function(t){this.onRowClick&&this.onRowClick(t)}},{key:"handleRefresh",value:function(){this.onRefresh&&this.onRefresh()}},{key:"optionsChanged",value:function(){this.onOptionsChange(this.options)}},{key:"searchChanged",value:function(){var t=this;this.onSearchChange&&(this.debounceSearch&&(clearTimeout(this.debounceSearch),this.debounceSearch=null),this.debounceSearch=setTimeout((function(){t.onSearchChange(t.search)}),500))}},{key:"getClass",get:function(){return"elevation-1 ".concat(this.className||"")}},{key:"getHeaders",get:function(){var t={align:"start",sortable:!1,filterable:!1,groupable:!1};return this.headers.map((function(e){return"string"===typeof e?Object(X["a"])(Object(X["a"])({},t),{},{text:e,value:e}):Object(X["a"])(Object(X["a"])({},t),e)}))}}]),a}(d["d"]);Object(u["a"])([Object(d["c"])({default:""})],ve.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({default:[]})],ve.prototype,"items",void 0),Object(u["a"])([Object(d["c"])({default:[],required:!0})],ve.prototype,"headers",void 0),Object(u["a"])([Object(d["c"])({default:""})],ve.prototype,"className",void 0),Object(u["a"])([Object(d["c"])({default:0})],ve.prototype,"total",void 0),Object(u["a"])([Object(d["c"])({default:ht})],ve.prototype,"perPage",void 0),Object(u["a"])([Object(d["c"])({default:1})],ve.prototype,"page",void 0),Object(u["a"])([Object(d["c"])({default:!1})],ve.prototype,"loading",void 0),Object(u["a"])([Object(d["c"])({default:"Loading data..."})],ve.prototype,"loadingText",void 0),Object(u["a"])([Object(d["c"])({default:!1})],ve.prototype,"disableSearch",void 0),Object(u["a"])([Object(d["c"])({default:""})],ve.prototype,"newItemUrl",void 0),Object(u["a"])([Object(d["c"])({type:Array,required:!1,default:function(){return[]}})],ve.prototype,"itemSlots",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!0})],ve.prototype,"onOptionsChange",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],ve.prototype,"onSearchChange",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],ve.prototype,"onRowClick",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],ve.prototype,"onRefresh",void 0),Object(u["a"])([Object(d["e"])("options")],ve.prototype,"optionsChanged",null),Object(u["a"])([Object(d["e"])("search")],ve.prototype,"searchChanged",null),ve=Object(u["a"])([Object(d["a"])({components:{}})],ve);var fe=ve,he=fe,be=(a("04f1"),a("8fea")),me=Object(g["a"])(he,de,pe,!1,null,"4dce9793",null),ge=me.exports;_()(me,{VBtn:K["a"],VCard:Et["a"],VCardTitle:Tt["c"],VCol:ee["a"],VDataTable:be["a"],VIcon:J["a"],VRow:ne["a"],VSpacer:$t["a"],VTextField:re["a"]});var Oe=a("bc3a"),_e=a.n(Oe),ye=function(t){var e=Object({VUE_APP_API_ENDPOINT:"https://binance-tracker-dev.herokuapp.com",NODE_ENV:"production",VUE_APP_WS_ENDPOINT:"wss://binance-tracker-dev.herokuapp.com/ws",BASE_URL:"/"})[t];if(!e)throw new Error('Environment variable "'.concat(t,'" must be defined!'));return console.log('Found mandatory environment variable: "'.concat(t,'"="').concat(e,'"')),e},ke=ye("VUE_APP_API_ENDPOINT"),je=ye("VUE_APP_WS_ENDPOINT"),xe=_e.a.create({baseURL:ke});function Se(t){xe.defaults.headers.common["Authorization"]=t?"Bearer ".concat(t):""}var we=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.post("/api/account/login",{email:e,password:a}).then((function(t){var e=t.data;return{token:e.token,user:e.user}})));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),Ce=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.get("/api/account/me").then((function(t){var e=t.data;return{token:e.token,user:e.user}})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Pe=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page,n=e.perPage,r=e.filter,i=e.paid,t.abrupt("return",xe.get("/api/signals",{params:{page:a,perPage:n,filter:r,paid:i}}).then((function(t){var e=t.data;return e})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Le=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.get("/api/signals/".concat(e)).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ee=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.post("/api/signals",e).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Te=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.put("/api/signals/".concat(e.id),e).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ve=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.delete("/api/signals/".concat(e)).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$e=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xe.post("/api/signals/bulk",{signals:e}).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ae=a("b047c"),Ie=a.n(Ae),Re=function(t){return function(e,a){return{configurable:!0,enumerable:!1,value:Ie()(e[a],t)}}},Ne=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.search="",t.debounceSearch=null,t.headers=[{text:"Id",value:"id"},{text:"Ticker",value:"ticker"},{text:"Price",value:"price"},{text:"Status",value:"status"},{text:"Profitability",value:"profitability"},{text:"Risk",value:"risk"},{text:"Term",value:"term"},{text:"Volume",value:"volume"},{text:"Is paid",value:"paid"},{text:"Is commentable",value:"commentable"}],t}return Object(o["a"])(a,[{key:"fetch",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setLoading(!0),t.next=4,Pe({page:this.pagination.page,perPage:this.pagination.perPage,filter:this.pagination.filter});case 4:e=t.sent,this.updatePagination(e),t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return");case 11:return t.prev=11,this.setLoading(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[0,8,11,14]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleTableChange",value:function(t){var e=t.page,a=t.itemsPerPage;this.pagination=Object(X["a"])(Object(X["a"])({},this.pagination),{},{page:e,perPage:a}),this.fetch()}},{key:"handleTableSearch",value:function(t){this.pagination=Object(X["a"])(Object(X["a"])({},this.pagination),{},{filter:t}),this.fetch()}},{key:"handleRowClick",value:function(t){var e=t.id;e&&this.$router.push({name:"signal-edit",params:{signalId:"".concat(e)}})}}]),a}(Object(d["b"])(ft,mt));Object(u["a"])([Object(p["c"])("loading")],Ne.prototype,"loading",void 0),Object(u["a"])([Re(500)],Ne.prototype,"handleTableSearch",null),Ne=Object(u["a"])([Object(d["a"])({components:{VCustomTable:ge},mixins:[ft,mt]})],Ne);var De=Ne,Ue=De,He=(a("a3ae"),Object(g["a"])(Ue,ce,ue,!1,null,"2d8938e3",null)),qe=He.exports;_()(He,{VContainer:Kt["a"],VTextField:re["a"]});var Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.signal?a("v-container",{staticClass:"SignalEdit"},[a("div",{staticClass:"text-center text-h5"},[t._v(t._s(t.$t("Signal information")))]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("signal-data",{ref:"signalData",attrs:{disabled:t.locked},model:{value:t.signal,callback:function(e){t.signal=e},expression:"signal"}})],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("signal-edit-panel",{staticClass:"mb-4 pb-4",attrs:{title:t.$t("Entry points"),onAdd:t.handleEntryPointAdd,error:t.entryPointError}},[a("v-form",{ref:"entryPointsRef",model:{value:t.entryPointsValid,callback:function(e){t.entryPointsValid=e},expression:"entryPointsValid"}},[t._l(t.signal.entryPoints,(function(e,n){return[a("signal-entry-point",{key:n,attrs:{order:n+1,value:e,disabled:t.locked,onDelete:function(){return t.handleEntryPointDelete(n)}}})]}))],2)],1),a("signal-edit-panel",{staticClass:"mb-4 pb-4",attrs:{title:t.$t("Take profits"),onAdd:t.handleTakeProfitAdd,error:t.takeProfitError}},[a("v-form",{ref:"takeProfitOrdersRef",model:{value:t.takeProfitOrdersValid,callback:function(e){t.takeProfitOrdersValid=e},expression:"takeProfitOrdersValid"}},[t._l(t.signal.takeProfitOrders,(function(e,n){return[a("signal-order",{key:n,attrs:{order:n+1,value:e,disabled:t.locked,onDelete:function(){return t.handleTakeProfitDelete(n)}}})]}))],2)],1),a("signal-edit-panel",{staticClass:"mb-4 pb-4",attrs:{title:t.$t("Stop losses"),onAdd:t.handleStopLossAdd,error:t.stopLossError}},[a("v-form",{ref:"stopLossOrdersRef",model:{value:t.stopLossOrdersValid,callback:function(e){t.stopLossOrdersValid=e},expression:"stopLossOrdersValid"}},[t._l(t.signal.stopLossOrders,(function(e,n){return[a("signal-order",{key:n,attrs:{order:n+1,value:e,disabled:t.locked,onDelete:function(){return t.handleStopLossDelete(n)}}})]}))],2)],1)],1)],1),a("v-row",{staticClass:"button-box"},[a("v-col",{staticClass:"text-right",attrs:{xs:"12"}},[a("v-btn",{attrs:{color:"default"},on:{click:t.handleClose}},[t._v("Close")]),a("v-btn",{staticClass:"ml-4",attrs:{color:"success",disabled:t.locked},on:{click:t.handleSave}},[t._v("Save")])],1)],1),t.signal.id?a("v-card",{staticClass:"danger-section"},[a("v-card-title",{staticClass:"danger-section-title"},[t._v(" Danger section ")]),a("v-card-text",{staticClass:"d-flex justify-space-between align-center"},[a("div",[t._v(" This action irreversibly delete signal from database. All correspondig data (history, comments, posts) would be removed too. ")]),a("v-btn",{staticClass:"button",attrs:{color:"error",disabled:t.locked},on:{click:t.handleDelete}},[t._v("Delete signal")])],1)],1):t._e()],1):t._e()},Ge=[],Me=(a("7db0"),a("13d5"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,price:0,comment:"",signalId:0},t)}),Be=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,price:0,volume:0,comment:"",signalId:0,type:"take profit"},t)},Ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,price:0,volume:0,comment:"",signalId:0,type:"stop loss"},t)},Ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,status:"delayed",profitability:0,ticker:"",title:"",price:0,type:"long",risk:"low",term:"long",volume:0,paid:!1,commentable:!0,remaining:1,userId:0,comments:[],entryPoints:[],takeProfitOrders:[],stopLossOrders:[]},t)},Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[a("v-row",{staticClass:"SignalData"},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.requiredRules,label:t.$t("Ticker"),required:"","hide-details":"auto",disabled:t.disabled},model:{value:t.model.ticker,callback:function(e){t.$set(t.model,"ticker",e)},expression:"model.ticker"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Title"),hint:t.$t("edit.title_hint"),"persistent-hint":"",disabled:t.disabled},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("Type"),items:t.typesOptions,"hide-details":"auto",required:"",disabled:t.disabled},model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("Risk"),items:t.riskOptions,"hide-details":"auto",required:"",disabled:t.disabled},model:{value:t.model.risk,callback:function(e){t.$set(t.model,"risk",e)},expression:"model.risk"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("Terms"),items:t.termsOptions,"hide-details":"auto",required:"",disabled:t.disabled},model:{value:t.model.term,callback:function(e){t.$set(t.model,"term",e)},expression:"model.term"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Volume"),required:"","hide-details":"auto","append-icon":"mdi-information-outline",disabled:t.disabled},on:{"click:append":function(e){e.stopPropagation(),t.showVolumeInfo=!0}},model:{value:t.model.volume,callback:function(e){t.$set(t.model,"volume",t._n(e))},expression:"model.volume"}}),a("popup",{attrs:{title:t.$t("Recommended volume"),text:"Blah-blah-blah"},model:{value:t.showVolumeInfo,callback:function(e){t.showVolumeInfo=e},expression:"showVolumeInfo"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:t.$t("Paid signal"),hint:t.$t("edit.paid_signal_hint"),"persistent-hint":"",required:"",disabled:t.disabled},model:{value:t.model.paid,callback:function(e){t.$set(t.model,"paid",e)},expression:"model.paid"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:t.$t("Comments"),hint:t.$t("edit.comments_hint"),"persistent-hint":"",required:"",disabled:t.disabled},model:{value:t.model.commentable,callback:function(e){t.$set(t.model,"commentable",e)},expression:"model.commentable"}})],1)],1)],1)},ze=[],We=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.formValid=!0,t}return Object(o["a"])(a,[{key:"validate",value:function(){this.$refs.form.validate()}},{key:"resetValidation",value:function(){this.$refs.form.clear()}}]),a}(d["d"]);We=Object(u["a"])([d["a"]],We);var Ze=We,Qe=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.showVolumeInfo=!1,t.requiredRules=[function(t){return!!t||"Field is required"}],t.typesOptions=[{value:"long",text:t.$t("Long")},{value:"short",text:t.$t("Short")}],t.riskOptions=[{value:"high",text:t.$t("High")},{value:"medium",text:t.$t("Medium")},{value:"low",text:t.$t("Low")}],t.termsOptions=[{value:"short",text:t.$t("Short")},{value:"medium",text:t.$t("Medium")},{value:"long",text:t.$t("Long")}],t}return a}(Object(d["b"])(kt,Ze));Object(u["a"])([Object(d["c"])({type:Boolean,required:!1})],Qe.prototype,"disabled",void 0),Qe=Object(u["a"])([Object(d["a"])({components:{Popup:It},mixins:[kt,Ze]})],Qe);var Xe=Qe,ta=Xe,ea=a("ac7c"),aa=a("b974"),na=Object(g["a"])(ta,Je,ze,!1,null,null,null),ra=na.exports;_()(na,{VCheckbox:ea["a"],VCol:ee["a"],VForm:ae["a"],VRow:ne["a"],VSelect:aa["a"],VTextField:re["a"]});var ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"SignalEditPanel"},[a("v-card-title",[a("span",{staticClass:"SignalEditPanel--title"},[t._v(t._s(t.title))]),a("v-spacer"),t.onAdd?a("span",{staticClass:"SignalEditPanel--add-button"},[a("v-btn",{attrs:{text:"",color:"blue lighten-3"},on:{click:t.onAdd}},[t._v(t._s(t.$t("+ Add more")))])],1):t._e()],1),a("v-card-text",[t._t("default"),t.error?a("div",{staticClass:"text-caption red--text lighten-2",attrs:{color:"error"},domProps:{innerHTML:t._s(t.error)}}):t._e()],2)],1)},sa=[],oa=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(d["d"]);Object(u["a"])([Object(d["c"])({type:String,required:!1})],oa.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({type:String,required:!1})],oa.prototype,"error",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],oa.prototype,"onAdd",void 0),oa=Object(u["a"])([Object(d["a"])({components:{}})],oa);var la=oa,ca=la,ua=Object(g["a"])(ca,ia,sa,!1,null,null,null),da=ua.exports;_()(ua,{VBtn:K["a"],VCard:Et["a"],VCardText:Tt["b"],VCardTitle:Tt["c"],VSpacer:$t["a"]});var pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"SignalEntryPoint"},[a("v-col",{staticClass:"d-flex justify-center align-center order",attrs:{cols:"12",sm:"1"}},[t._v(" "+t._s(t.order)+" ")]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{type:"number",rules:t.requiredRules,label:t.$t("Price"),required:"",dense:"","hide-details":"",disabled:t.disabled},model:{value:t.model.price,callback:function(e){t.$set(t.model,"price",t._n(e))},expression:"model.price"}})],1),a("v-col",{staticClass:"pr-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{dense:"",label:t.$t("Comment"),"hide-details":"",disabled:t.disabled},model:{value:t.model.comment,callback:function(e){t.$set(t.model,"comment",e)},expression:"model.comment"}})],1),a("v-col",{staticClass:"pl-0 d-flex justify-center align-center",attrs:{cols:"12",sm:"1"}},[a("v-btn",{attrs:{icon:"",small:"",disabled:t.disabled},on:{click:t.onDelete}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-trash-can-outline ")])],1)],1)],1)},va=[],fa=(a("a9e3"),function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.requiredRules=[function(t){return!!t||"Field is required"}],t}return a}(Object(d["b"])(kt)));Object(u["a"])([Object(d["c"])({type:Number,required:!0})],fa.prototype,"order",void 0),Object(u["a"])([Object(d["c"])({type:Boolean,required:!1})],fa.prototype,"disabled",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!0})],fa.prototype,"onDelete",void 0),fa=Object(u["a"])([Object(d["a"])({components:{},mixins:[kt]})],fa);var ha=fa,ba=ha,ma=(a("542e"),Object(g["a"])(ba,pa,va,!1,null,"cd804ebe",null)),ga=ma.exports;_()(ma,{VBtn:K["a"],VCol:ee["a"],VIcon:J["a"],VRow:ne["a"],VTextField:re["a"]});var Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"SignalOrder"},[a("v-col",{staticClass:"d-flex justify-center align-center order",attrs:{cols:"12",sm:"1"}},[t._v(" "+t._s(t.order)+" ")]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{type:"number",rules:t.requiredRules,label:t.$t("Price"),required:"","hide-details":"",disabled:t.disabled},model:{value:t.model.price,callback:function(e){t.$set(t.model,"price",t._n(e))},expression:"model.price"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-text-field",{attrs:{type:"number",rules:t.requiredRules,label:t.$t("Volume"),suffix:"%",required:"","hide-details":"",disabled:t.disabled},model:{value:t.volume,callback:function(e){t.volume=t._n(e)},expression:"volume"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:t.$t("Comment"),"hide-details":"",disabled:t.disabled},model:{value:t.model.comment,callback:function(e){t.$set(t.model,"comment",e)},expression:"model.comment"}})],1),a("v-col",{staticClass:"pb-0 d-flex justify-center align-center",attrs:{cols:"12",sm:"1"}},[a("v-btn",{attrs:{icon:"",small:"",disabled:t.disabled},on:{click:t.onDelete}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-trash-can-outline ")])],1)],1)],1)},_a=[],ya=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.requiredRules=[function(t){return!!t||"Field is required"}],t}return Object(o["a"])(a,[{key:"volume",get:function(){return 100*this.model.volume},set:function(t){this.model.volume=t/100}}]),a}(Object(d["b"])(kt));Object(u["a"])([Object(d["c"])({type:Number,required:!0})],ya.prototype,"order",void 0),Object(u["a"])([Object(d["c"])({type:Boolean,required:!1})],ya.prototype,"disabled",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!0})],ya.prototype,"onDelete",void 0),ya=Object(u["a"])([Object(d["a"])({components:{},mixins:[kt]})],ya);var ka=ya,ja=ka,xa=(a("0ebf"),Object(g["a"])(ja,Oa,_a,!1,null,"001aaae5",null)),Sa=xa.exports;_()(xa,{VBtn:K["a"],VCol:ee["a"],VIcon:J["a"],VRow:ne["a"],VTextField:re["a"]});var wa=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.takeProfitError="",t.stopLossError="",t.entryPointError="",t.takeProfitOrdersValid=!0,t.stopLossOrdersValid=!0,t.entryPointsValid=!0,t.signal=Object(X["a"])({},Ye()),t}return Object(o["a"])(a,[{key:"handleEntryPointAdd",value:function(){this.signal.entryPoints=[].concat(Object(pt["a"])(this.signal.entryPoints),[Me({signalId:this.signal.id})])}},{key:"handleEntryPointDelete",value:function(t){this.signal.entryPoints=this.signal.entryPoints.filter((function(e,a){return a!==t}))}},{key:"handleTakeProfitAdd",value:function(){this.signal.takeProfitOrders=[].concat(Object(pt["a"])(this.signal.takeProfitOrders),[Be({signalId:this.signal.id})])}},{key:"handleTakeProfitDelete",value:function(t){this.signal.takeProfitOrders=this.signal.takeProfitOrders.filter((function(e,a){return a!==t}))}},{key:"handleStopLossAdd",value:function(){this.signal.stopLossOrders=[].concat(Object(pt["a"])(this.signal.stopLossOrders),[Ke({signalId:this.signal.id})])}},{key:"handleStopLossDelete",value:function(t){this.signal.stopLossOrders=this.signal.stopLossOrders.filter((function(e,a){return a!==t}))}},{key:"fetch",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.params.signalId,"new"!==e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,this.setLoading(!0),t.next=7,Le(e);case 7:a=t.sent,n=a.signal,this.signal=Ye(n),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),this.$toasted.error("Unable to load signal");case 15:return t.prev=15,this.setLoading(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[3,12,15,18]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.fetch()}},{key:"validate",value:function(){this.takeProfitError="",this.stopLossError="",this.entryPointError="",this.takeProfitOrdersValid=!0,this.stopLossOrdersValid=!0,this.entryPointsValid=!0,this.$refs.signalData.validate(),this.$refs.entryPointsRef.validate(),this.$refs.takeProfitOrdersRef.validate(),this.$refs.stopLossOrdersRef.validate();var t=this.signal.entryPoints.length>0;if(t||(this.entryPointError=this.$t("edit.entry_point_must_exists")),this.entryPointError||this.takeProfitError||this.stopLossError)return!1;var e=this.signal.stopLossOrders.reduce((function(t,e){return t+e.volume}),0);if(1!==e&&(this.stopLossError=this.$t("edit.stop_loss_must_be_1")),this.takeProfitError||this.stopLossError)return!1;var a=Math.max.apply(Math,Object(pt["a"])(this.signal.entryPoints.map((function(t){return t.price})))),n=Math.min.apply(Math,Object(pt["a"])(this.signal.entryPoints.map((function(t){return t.price}))));if("long"===this.signal.type){var r=this.signal.takeProfitOrders.find((function(t){return t.price<=a}));if(r)return this.takeProfitError=this.$t("edit.long_take_profit_must_be_greater_then_entry_points"),!1;var i=this.signal.stopLossOrders.find((function(t){return t.price>=n}));if(i)return this.stopLossError=this.$t("edit.long_stop_loss_must_be_less_then_entry_points"),!1}else if("short"===this.signal.type){var s=this.signal.takeProfitOrders.find((function(t){return t.price>=n}));if(s)return this.takeProfitError=this.$t("edit.short_take_profit_must_be_less_then_entry_points"),!1;var o=this.signal.stopLossOrders.find((function(t){return t.price<=a}));if(o)return this.stopLossError=this.$t("edit.short_stop_loss_must_be_greater_then_entry_points"),!1}return!0}},{key:"handleSave",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validate()){t.next=2;break}return t.abrupt("return");case 2:if(e={id:this.signal.id,status:this.signal.status||"active",profitability:parseFloat(this.signal.profitability.toString())||0,ticker:this.signal.ticker,title:this.signal.title||this.signal.ticker,price:parseFloat(this.signal.price.toString())||0,type:this.signal.type,risk:this.signal.risk,term:this.signal.term,volume:parseFloat(this.signal.volume.toString()),paid:!!this.signal.paid,commentable:!!this.signal.commentable,date:this.signal.date||new Date,post:this.signal.post||"",comments:[],entryPoints:this.signal.entryPoints||[],takeProfitOrders:this.signal.takeProfitOrders||[],stopLossOrders:this.signal.stopLossOrders||[]},this.setLoading(!0),t.prev=4,!e.id){t.next=11;break}return t.next=8,Te(e);case 8:this.signal=t.sent,t.next=14;break;case 11:return t.next=13,Ee(e);case 13:this.signal=t.sent;case 14:this.$toasted.success("Signal saved"),t.next=21;break;case 17:return t.prev=17,t.t0=t["catch"](4),this.$toasted.error("Unable to save signal!"),t.abrupt("return");case 21:return t.prev=21,this.setLoading(!1),t.finish(21);case 24:this.handleClose();case 25:case"end":return t.stop()}}),t,this,[[4,17,21,24]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleClose",value:function(){this.$router.back()}},{key:"handleDelete",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$t("edit.delete_signal_confirm"),!this.signal.id||!confirm(e)){t.next=10;break}return this.setLoading(!0),t.prev=3,t.next=6,Ve(this.signal.id);case 6:return t.prev=6,this.setLoading(!1),t.finish(6);case 9:this.handleClose();case 10:case"end":return t.stop()}}),t,this,[[3,,6,9]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"locked",get:function(){return 1!==this.signal.remaining}}]),a}(Object(d["b"])(ft));wa=Object(u["a"])([Object(d["a"])({components:{SignalData:ra,SignalEditPanel:da,SignalEntryPoint:ga,SignalOrder:Sa},mixins:[ft]})],wa);var Ca=wa,Pa=Ca,La=(a("9efc"),Object(g["a"])(Pa,Fe,Ge,!1,null,"05aa6890",null)),Ea=La.exports;_()(La,{VBtn:K["a"],VCard:Et["a"],VCardText:Tt["b"],VCardTitle:Tt["c"],VCol:ee["a"],VContainer:Kt["a"],VForm:ae["a"],VRow:ne["a"]});var Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"SignalView"},[t._v(" Signal view "+t._s(t.$route.params.signalId)+" ")])},Va=[],$a=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(d["d"]);$a=Object(u["a"])([Object(d["a"])({components:{}})],$a);var Aa=$a,Ia=Aa,Ra=Object(g["a"])(Ia,Ta,Va,!1,null,null,null),Na=Ra.exports;_()(Ra,{VContainer:Kt["a"]});var Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"SignalsUpload"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"text-h2"},[t._v("CSV upload")])]),a("v-col",{attrs:{cols:"12",sm:"4"}}),a("v-col",{staticClass:"text-right",attrs:{cols:"12",sm:"4"}},[a("v-file-input",{attrs:{accept:".csv",label:"CSV file with signals",multiple:!1,"show-size":""},on:{change:t.handleUpload}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"border-c checkboxes",attrs:{rowspan:"2"}}),a("th",{staticClass:"border-c date-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Date"))+" ")]),a("th",{staticClass:"border-c currency",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Currency"))+" ")]),a("th",{staticClass:"border-c type-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Type"))+" ")]),a("th",{staticClass:"border-c risk-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Risk"))+" ")]),a("th",{staticClass:"border-c term-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Term"))+" ")]),a("th",{staticClass:"border-c Volume",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Volume"))+" ")]),a("th",{staticClass:"border-c entry-points-head",attrs:{colspan:"2"}},[t._v(" "+t._s(t.$t("Entry points"))+" ")]),a("th",{staticClass:"border-c take-profit-head",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("Take profit"))+" ")]),a("th",{staticClass:"border-c stop-loss-head",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("Stop loss"))+" ")]),a("th",{staticClass:"border-o post-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Post"))+" ")])]),a("tr",[a("th",{staticClass:"border-l entrry-point-price-head"},[t._v(" "+t._s(t.$t("Price"))+" ")]),a("th",{staticClass:"border-l entrry-point-comment-head"},[t._v(" "+t._s(t.$t("Comment"))+" ")]),a("th",{staticClass:"border-l take-profit-price-head"},[t._v(" "+t._s(t.$t("Price"))+" ")]),a("th",{staticClass:"border-l take-profit-volume-head"},[t._v(" "+t._s(t.$t("Volume"))+" ")]),a("th",{staticClass:"border-l take-profit-comment-head"},[t._v(" "+t._s(t.$t("Comment"))+" ")]),a("th",{staticClass:"border-l stop-loss-price-head"},[t._v(" "+t._s(t.$t("Price"))+" ")]),a("th",{staticClass:"border-l stop-loss-volume-head"},[t._v(" "+t._s(t.$t("Volume"))+" ")]),a("th",{staticClass:"border-l stop-loss-comment-head"},[t._v(" "+t._s(t.$t("Comment"))+" ")])])]),a("tbody",[t._l(t.rows,(function(e,n){return[a("tr",{key:n,class:"table-row "+(e.ok?"":"error")},[a("td",{staticClass:"text-center"},[a("v-checkbox",{attrs:{dense:"","hide-details":"",disabled:!e.ok||t.rows.saved,value:n},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("dayjs")(e.date,"format","HH:mm DD.MM.YYYY")))]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.title)+" "),a("br"),t._v(" ("+t._s(e.ticker)+") ")]),a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.risk))]),a("td",[t._v(t._s(e.term))]),a("td",[t._v(t._s(e.volume))]),a("td",[t._l(e.entryPoints,(function(e,n){return[a("div",{key:n},[t._v(t._s(e.price))])]}))],2),a("td",[t._l(e.entryPoints,(function(e,n){return[a("div",{key:n},[t._v(t._s(e.comment))])]}))],2),a("td",[t._l(e.takeProfitOrders,(function(e,n){return[a("div",{key:n},[t._v(t._s(e.price))])]}))],2),a("td",[t._l(e.takeProfitOrders,(function(e,n){return[a("div",{key:n},[t._v(t._s(100*e.volume)+"%")])]}))],2),a("td",[t._l(e.takeProfitOrders,(function(e,n){return[a("div",{key:n},[t._v(t._s(e.comment))])]}))],2),a("td",[t._l(e.stopLossOrders,(function(e,n){return[a("div",{key:n},[t._v(t._s(e.price))])]}))],2),a("td",[t._l(e.stopLossOrders,(function(e,n){return[a("div",{key:n},[t._v(t._s(100*e.volume)+"%")])]}))],2),a("td",[t._l(e.stopLossOrders,(function(e,n){return[a("div",{key:n},[t._v(t._s(e.comment))])]}))],2),a("td",{staticClass:"post-cell"},[t._v(t._s(e.post))])])]}))],2)]},proxy:!0}])})],1)],1),a("v-row",[a("v-col",{staticClass:"button-box text-right",attrs:{cols:"12"}},[a("v-btn",{staticClass:"ml-4",attrs:{color:"success",disabled:!t.selected.length},on:{click:t.handleSave}},[t._v("Save")])],1)],1)],1)},Ua=[],Ha=(a("c975"),a("fb6a"),a("5319"),a("1276"),a("4f96")),qa=a("3835"),Fa=a("369b"),Ga=a.n(Fa),Ma=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.selected=[],t.rows={},t}return Object(o["a"])(a,[{key:"parseEntryPoints",value:function(t){var e=t.split(/\|/);return e.map((function(t){var e=t.split(/\//),a=Object(qa["a"])(e,2),n=a[0],r=a[1],i={price:parseFloat(n),comment:r,signalId:0,ok:!0};return i.ok=!isNaN(i.price),i}))}},{key:"parseOrders",value:function(t){var e=t.split(/\|/),a=function(t){return-1===t.indexOf("%")?null:parseFloat(t.replace(/[^0-9]/g,""))/100};return e.map((function(t){var e=t.split(/\//),n=Object(qa["a"])(e,3),r=n[0],i=n[1],s=n[2],o={price:parseFloat(r),volume:a(i),comment:s,signalId:0,ok:!0};return o.ok=!isNaN(o.price)&&!isNaN(o.price),o}))}},{key:"parseCsv",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.rows=e.map((function(t,e){var n=Object(qa["a"])(t,10),r=n[0],i=n[1],s=n[2],o=n[3],l=n[4],c=n[5],u=n[6],d=n[7],p=n[8],v=n[9],f={order:e,date:new Date(r),title:i,ticker:i.toUpperCase().replace(/[^A-Z]/g,""),type:s.toLowerCase(),risk:o.toLowerCase(),term:l.toLowerCase(),volume:parseFloat(c.replace(/[^0-9]/g,""))/100,entryPoints:a.parseEntryPoints(u),takeProfitOrders:a.parseOrders(d),stopLossOrders:a.parseOrders(p),post:v,ok:!0,status:"delayed",commentable:!0,paid:!0};return f.ok=!isNaN(f.date.getTime())&&!!f.ticker&&!isNaN(f.volume)&&!f.entryPoints.find((function(t){return!t.ok}))&&!f.takeProfitOrders.find((function(t){return!t.ok}))&&!f.stopLossOrders.find((function(t){return!t.ok})),f})),console.log(JSON.stringify(this.rows));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleUpload",value:function(t){var e=this;this.rows=[];var a=Object(qa["a"])(t,1),n=a[0],r=new FileReader;r.onload=function(t){if(t.target&&t.target.result){var a=Ga.a.parse(t.target.result,{skipEmptyLines:!0}),n=a.data;if(n){var r=Object(Ha["a"])(n),i=r.slice(1);i&&i.length&&e.parseCsv(i)}}},r.readAsText(n||"")}},{key:"handleSave",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.selected.map((function(t){var e=r.rows[t];return delete e.order,delete e.ok,e.entryPoints.forEach((function(t){delete t.order,delete t.ok})),e.takeProfitOrders.forEach((function(t){delete t.order,delete t.ok})),e.stopLossOrders.forEach((function(t){delete t.order,delete t.ok})),e})),t.next=3,$e(e);case 3:if(a=t.sent,n=a.signalsIds,Array.isArray(n)){t.next=8;break}return this.$toasted.error(this.$t("Unable to uploade some signals")),t.abrupt("return");case 8:this.$toasted.success(this.$t("Signals successfully uploaded")),this.selected.forEach((function(t){r.rows[t].saved=!0}));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(d["d"]);Ma=Object(u["a"])([Object(d["a"])({components:{Popup:It}})],Ma);var Ba=Ma,Ka=Ba,Ya=(a("c999"),a("23a7")),Ja=Object(g["a"])(Ka,Da,Ua,!1,null,null,null),za=Ja.exports;_()(Ja,{VBtn:K["a"],VCheckbox:ea["a"],VCol:ee["a"],VContainer:Kt["a"],VFileInput:Ya["a"],VRow:ne["a"],VSimpleTable:Yt["a"]}),n["a"].use(ct["a"]);var Wa=[{path:"/",name:"dashboard",component:zt,meta:{title:"Dashboard",showInMenu:!0,icon:"mdi-view-dashboard"}},{path:"/login",name:"login",component:le,meta:{title:"Login"}},{path:"/signals",name:"signals-list",component:qe,meta:{auth:!0,showInMenu:!0,icon:"mdi-pencil-box-multiple-outline",title:"Signals"}},{path:"/signals/upload",name:"signals-upload",component:za,meta:{auth:!0,showInMenu:!0,icon:"mdi-table-arrow-up",title:"Signals CSV upload"}},{path:"/signal/:signalId",name:"signal-view",component:Na,meta:{auth:!1,title:"Signal"}},{path:"/signals/:signalId",name:"signal-edit",component:Ea,meta:{auth:!0,title:"Signal"}}],Za=new ct["a"]({mode:"history",base:"/",routes:Wa});Za.beforeEach(function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Router: to ".concat(e.name,", params: ").concat(JSON.stringify(e.params))),r=e.meta&&e.meta.title,document.title=r?"Binance tracker :: ".concat(r):"Binance tracker",i=e.meta&&e.meta.auth,i){t.next=6;break}return t.abrupt("return",n());case 6:if(un.getters.isLoggedOn){t.next=9;break}return t.next=9,un.dispatch(q.CHECK_AUTH_TOKEN,{next:e.name,params:e.params});case 9:if(un.getters.isLoggedOn){t.next=11;break}return t.abrupt("return",n({name:"login"}));case 11:return t.abrupt("return",n());case 12:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}());var Qa,Xa,tn=Za,en=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,i,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=a.username,i=a.password,console.log("ACTION login",r,i),n(H.LOADING,{loading:!0}),n(H.SET_AUTH_TOKEN,{token:null}),t.prev=5,t.next=8,we(r,i);case 8:return s=t.sent,o=s.token,l=s.user,n(H.SET_AUTH_TOKEN,{token:o}),n(H.SET_USER,{user:l}),t.abrupt("return",tn.push({name:"dashboard"}));case 16:t.prev=16,t.t0=t["catch"](5),n(H.SET_AUTH_TOKEN,{token:null}),n(H.SET_USER,{user:null}),console.error("Login error"),console.error(t.t0);case 22:return t.prev=22,n(H.LOADING,{loading:!1}),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[5,16,22,25]])})));return function(e,a){return t.apply(this,arguments)}}(),an=function(t){var e=t.commit;e(H.SET_AUTH_TOKEN,{token:null}),e(H.SET_USER,{user:null}),tn.push({name:"login"}).catch((function(){}))},nn=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,i,s,o,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,r=e.commit,i=a.next,s=a.params,console.log("ACTION loadUserInfo"),r(H.LOADING,{loading:!0,message:"Authenticating..."}),o=n.token,Se(o),t.prev=6,o){t.next=9;break}return t.abrupt("return",tn.push({name:"login"}).catch((function(){})));case 9:return t.next=11,Ce();case 11:l=t.sent,c=l.user,u=l.token,r(H.SET_USER,{user:c}),r(H.SET_AUTH_TOKEN,{token:u}),tn.push({name:i||"dashboard",params:s||{}}).catch((function(){})),t.next=26;break;case 19:return t.prev=19,t.t0=t["catch"](6),r(H.SET_AUTH_TOKEN,{token:null}),r(H.SET_USER,{user:null}),console.error("Check auth user error"),console.error(t.t0),t.abrupt("return",tn.push({name:"login"}).catch((function(){})));case 26:return t.prev=26,r(H.LOADING,{loading:!1}),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[6,19,26,29]])})));return function(e,a){return t.apply(this,arguments)}}(),rn=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=a.page,i=a.perPage,s=a.filter,console.log("ACTION loadUserInfo"),n(H.LOADING,{loading:!0,message:"Authenticating..."}),t.prev=4,t.next=7,Pe({page:r,perPage:i,filter:s});case 7:return o=t.sent,n(H.SET_SIGNALS,{signals:o.data}),n(H.SET_AVAILABLE_SIGNALS,{available:o.available}),t.abrupt("return",o);case 13:t.prev=13,t.t0=t["catch"](4),console.error("Check auth user error"),console.error(t.t0);case 17:return t.prev=17,n(H.LOADING,{loading:!1}),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,13,17,20]])})));return function(e,a){return t.apply(this,arguments)}}(),sn=(Qa={},Object(ot["a"])(Qa,q.LOGIN,en),Object(ot["a"])(Qa,q.LOGOUT,an),Object(ot["a"])(Qa,q.CHECK_AUTH_TOKEN,nn),Object(ot["a"])(Qa,q.LOAD_SIGNALS,rn),Qa),on=(a("cb29"),Xa={},Object(ot["a"])(Xa,H.LOADING,(function(t,e){var a=e.loading,n=e.message;t.loading=a,t.loadingMessage=n})),Object(ot["a"])(Xa,H.SET_AUTH_TOKEN,(function(t,e){var a=e.token;t.token=a})),Object(ot["a"])(Xa,H.SET_USER,(function(t,e){var a=e.user;t.user=a})),Object(ot["a"])(Xa,H.SET_SIGNALS,(function(t,e){var a=e.signals;t.signals=a.map((function(t){return Object(X["a"])({sparkline:new Array(30).fill(0)},t)}))})),Object(ot["a"])(Xa,H.SET_AVAILABLE_SIGNALS,(function(t,e){var a=e.available;t.available=a})),Xa),ln={isLoggedOn:function(t){return!!(t.token&&t.user&&t.user.id)}};n["a"].use(rt["a"]);var cn=new rt["a"].Store({state:st,mutations:on,actions:sn,getters:ln,plugins:[Object(it["a"])({paths:["token"]})]});cn.subscribe((function(t,e){var a=t.type,r=t.payload;if(a===H.SET_AUTH_TOKEN)console.log("Mutation ".concat(a," subscription")),Se(e.token);else if(a===H.SET_AVAILABLE_SIGNALS){var i=r.available;console.log("Mutation ".concat(H.SET_AVAILABLE_SIGNALS," subscription with available signals ").concat(i.join(","))),mn.send({event:"subscribe_signals",payload:{signals:i}}),mn.send({event:"subscribe_sparklines",payload:{signals:i}}),n["a"].toasted.success("Subscribed to signals")}}));var un=cn,dn=a("b8ce"),pn=a.n(dn),vn=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var n;return Object(s["a"])(this,a),n=e.call(this),n.messageId=1,n.ws=new et["a"](t),n.ws.addEventListener("open",(function(){n.emit("open")})),n.ws.addEventListener("close",(function(){n.emit("close")})),n.ws.addEventListener("message",(function(t){var e=t.data,a=JSON.parse(e),r=a.event,i=a.payload;n.emit(r,i)})),n}return Object(o["a"])(a,[{key:"send",value:function(t){t.id||(t.id=this.messageId++),t.token||(t.token=un.state.token),nt.a.debug("WS.send:: payload: ".concat(JSON.stringify(t))),this.ws.send(JSON.stringify(t))}}]),a}(tt["EventEmitter"]),fn=new vn(je),hn=(new Date).getTime();fn.on("sparkline",(function(t){var e=t.sparkline,a=t.ticker,n=(new Date).getTime();if(n-hn>1e3){hn=n;var r=pn()(un.state.signals);r.forEach((function(t){t.ticker===a&&(t.sparkline=e)})),un.commit(H.SET_SIGNALS,{signals:r})}}));var bn=function(t){console.log("WS.updateSignals:: signals = ".concat(JSON.stringify(t)));var e=pn()(un.state.signals);t.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=Object(X["a"])(Object(X["a"])({},e[a]),t):e.push(t)})),un.commit(H.SET_SIGNALS,{signals:e})};fn.on("open",(function(){console.log("Websocket (re)connected"),n["a"].toasted.info("You are online now"),un.state.available.length&&(console.log("Resubscribing to existing available signals ".concat(un.state.available.join(","))),un.commit(H.SET_AVAILABLE_SIGNALS,{available:un.state.available}))})),fn.on("close",(function(){console.log("Websocket disconnected"),n["a"].toasted.error("You are offline, reconnecting...")})),fn.on("signals",bn),fn.on("signal",(function(t){return bn([t])}));var mn=fn,gn=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"handleLogout",value:function(){F(this.$store)}},{key:"hideControls",get:function(){return!this.isLoggedOn||"login"===this.$route.name}}]),a}(d["d"]);Object(u["a"])([Object(p["b"])("isLoggedOn")],gn.prototype,"isLoggedOn",void 0),gn=Object(u["a"])([Object(d["a"])({components:{Loader:x,Drawer:Q}})],gn);var On=gn,_n=On,yn=(a("5c0b"),a("7496")),kn=a("40dc"),jn=a("adda"),xn=a("f6c4"),Sn=Object(g["a"])(_n,r,i,!1,null,null,null),wn=Sn.exports;_()(Sn,{VApp:yn["a"],VAppBar:kn["a"],VBtn:K["a"],VImg:jn["a"],VMain:xn["a"],VSpacer:$t["a"]});var Cn=a("9483");Object(Cn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.location.reload(!0)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Pn=a("f309");n["a"].use(Pn["a"]);var Ln=new Pn["a"]({}),En=a("a65d"),Tn=a.n(En);n["a"].use(Tn.a,{duration:1e3,keepOnHover:!0,position:"bottom-center",fullWidth:!0});var Vn=a("01ac");n["a"].use(Vn["a"],{lang:"en",filters:{format:"format"},directives:{}});var $n=a("a925"),An=a("df7f");n["a"].use($n["a"]);var In={ru:An},Rn=new $n["a"]({locale:"ru",messages:In});n["a"].config.productionTip=!1,new n["a"]({router:tn,store:un,vuetify:Ln,i18n:Rn,render:function(t){return t(wn)}}).$mount("#app")},cf05:function(t,e,a){t.exports=a.p+"img/logo.527d3a46.png"},df7f:function(t){t.exports=JSON.parse('{"Signal information":"Информация о сигнале","Entry points":"Точки входа","Take profits":"Take profit","Stop losses":"Stop loss","Comment":"Комментарий","Comments":"Комментарии","Paid signal":"Платный сигнал","Price":"Цена","Recommended volume":"Рекомендованный объём","Risk":"Риск","Terms":"Срочность","Ticker":"Валюта","Type":"Тип","Volume":"Объём","+ Add more":"+ Добавить ещё","High":"Высокий","Long":"Длинный","Low":"Низкий","Medium":"Средний","Short":"Короткий","updated at":"обновлён в","Details":"Подробности","Title":"Название","Currency":"Валюта","Published":"Опубликован","Current price":"Текущая цена","Profitability":"Доходность","Status":"Статус","Delayed":"Отложенный","Active":"Активный","Finished":"Отработанный","Cancelled":"Отменённый","Signal statuses":"Статусы сигнала","Entry price":"Цена входа","remains in position":"остаток в позиции","Signals":"Сигналы","statusesHelp":"Значения:<ul><li>Отложенный - цена не пересекала уровни входа</li><li>Активный - цена пересекла уровни входа и не пересекла все TP или SL </li><li>Отработал - цена пересекла SL или все TP</li><li>Отмененный - сигнал был отменен</li></ul>","edit":{"paid_signal_hint":"Ваш сигнал будет доступен только платным пользователям","comments_hint":"Разрешить другим пользователям комментировать ваш сигнал","delete_signal_confirm":"Вы уверены, что хотите удалить сигнал? Это действие нельзя будет отменить.","take_profit_must_be_1":"Сумма Take Profit должна быть равна 100%","stop_loss_must_be_1":"Сумма Stop Loss должна быть равна 100%","long_take_profit_must_be_greater_then_entry_points":"Для сигнала \'long\' все Take Profit должны превышать наивысшую точку входа","long_stop_loss_must_be_less_then_entry_points":"Для сигнала \'long\' все Stop Loss не должны превышать низшую точку входа","short_take_profit_must_be_less_then_entry_points":"Для сигнала \'long\' все Take Profit не должны превышать низшую точку входа","short_stop_loss_must_be_greater_then_entry_points":"Для сигнала \'long\' все Stop Loss должны превышать наивысшую точку входа","entry_point_must_exists":"Должна быть задана хотя бы одна точка входа","take_profit_must_exists":"Должен быть задан хотя бы один ордер Take Profit","stop_loss_must_exists":"Должен быть задан хотя бы один ордер Stop Loss","title_hint":"Человекочитаемое название валюты, используется только при отображении"},"preview":{"signal_activated":"Сигнал {title} активирован по цене {price}","signal_level_triggered":"Для сигнала {title} сработали ордера: {orders}"}}')},ffa3:function(t,e,a){}});
//# sourceMappingURL=app.15b183eb.js.map