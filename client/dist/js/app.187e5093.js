(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"27a1":function(e,t,a){"use strict";var n=a("f632"),r=a.n(n);r.a},"358e":function(e,t,a){},"5a18":function(e,t,a){"use strict";var n=a("f48c"),r=a.n(n);r.a},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"74d3":function(e,t,a){"use strict";var n=a("a86b"),r=a.n(n);r.a},8058:function(e,t,a){"use strict";var n=a("b3e4"),r=a.n(n);r.a},8565:function(e,t,a){"use strict";var n=a("358e"),r=a.n(n);r.a},"9c0c":function(e,t,a){},a071:function(e,t,a){"use strict";var n=a("c25f"),r=a.n(n);r.a},a86b:function(e,t,a){},b3e4:function(e,t,a){},c25f:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("v-img",{attrs:{alt:"BinanceTracker",contain:"",src:a("cf05"),transition:"scale-transition",height:"45",width:"50"}}),n("div",{staticClass:"text-h5"})],1),n("v-spacer"),e.isLoggedOn?e._e():n("v-btn",{attrs:{to:{name:"login"}}},[e._v("Login")]),e.isLoggedOn?n("v-btn",{on:{click:e.handleLogout}},[e._v("Logout")]):e._e()],1),e.hideControls?e._e():n("drawer"),n("v-main",[n("router-view")],1),n("loader")],1)},i=[],s=(a("b0c0"),a("d4ec")),o=a("bee2"),c=a("262e"),l=a("2caf"),u=a("9ab4"),p=a("60a3"),d=a("4bb5"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-overlay",{staticClass:"loading-indicator",attrs:{value:e.loading,"z-index":"999"}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}}),e.message?a("div",{staticClass:"text-h5"},[e._v(e._s(e.message))]):e._e()],1)},h=[],g=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(p["e"]);Object(u["a"])([Object(d["c"])("loading")],g.prototype,"loading",void 0),Object(u["a"])([Object(d["c"])("loadingMessage")],g.prototype,"message",void 0),g=Object(u["a"])([Object(p["a"])({components:{}})],g);var f=g,b=f,m=(a("a071"),a("2877")),O=a("6544"),j=a.n(O),k=a("a797"),y=a("490a"),w=Object(m["a"])(b,v,h,!1,null,null,null),x=w.exports;j()(w,{VOverlay:k["a"],VProgressCircular:y["a"]});var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user&&"admin"===e.user.role?a("v-navigation-drawer",{attrs:{app:"",permanent:"","expand-on-hover":""},scopedSlots:e._u([{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-btn",{attrs:{block:""},on:{click:e.handleLogout}},[e._v("Logout")])],1)]},proxy:!0}],null,!1,1319748372)},[a("drawer-account"),a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},e._l(e.routes,(function(t,n){return a("v-list-item",{key:n,attrs:{link:"",to:t.url}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1):e._e()},S=[],T=(a("4de4"),a("d81d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user?a("v-list",[a("v-list-item",{staticClass:"px-2"},[a("v-list-item-avatar",[a("gravatar",{attrs:{email:e.user.email,defaultImage:"mp",size:100}})],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[e._v(e._s(e.user.name)+" ["+e._s(e.user.role)+"]")]),a("v-list-item-subtitle",[e._v(e._s(e.user.email))])],1)],1)],1):e._e()}),C=[],L=a("e06a"),R=a.n(L),E=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(p["e"]);Object(u["a"])([Object(d["c"])("user")],E.prototype,"user",void 0),E=Object(u["a"])([Object(p["a"])({components:{Gravatar:R.a}})],E);var A=E,V=A,I=a("8860"),N=a("da13"),P=a("8270"),U=a("5d23"),$=Object(m["a"])(V,T,C,!1,null,null,null),D=$.exports;j()($,{VList:I["a"],VListItem:N["a"],VListItemAvatar:P["a"],VListItemContent:U["a"],VListItemSubtitle:U["b"],VListItemTitle:U["c"]});var G={LOADING:"LOADING",SET_USER:"SET_USER",SET_AUTH_TOKEN:"SET_AUTH_TOKEN",SET_SIGNALS:"SET_SIGNALS"},H={LOGIN:"LOGIN",LOGOUT:"LOGOUT",CHECK_AUTH_TOKEN:"CHECK_AUTH_TOKEN",LOAD_SIGNALS:"LOAD_SIGNALS"},K=function(e){e.commit(G.SET_AUTH_TOKEN,{token:""}),e.commit(G.SET_USER,{user:null})},M=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"handleLogout",value:function(){K(this.$store)}},{key:"routes",get:function(){var e,t=null===(e=this.$router.options)||void 0===e?void 0:e.routes;return t?t.map((function(e){var t=e.meta;return!(!t||!t.showInMenu)&&{title:t.title||e.name,url:e.path,icon:t.icon}})).filter((function(e){return!!e})):[]}}]),a}(p["e"]);Object(u["a"])([Object(d["c"])("user")],M.prototype,"user",void 0),M=Object(u["a"])([Object(p["a"])({components:{DrawerAccount:D}})],M);var F=M,q=F,B=(a("74d3"),a("8336")),J=a("ce7e"),z=a("132d"),W=a("34c3"),Q=a("f774"),X=Object(m["a"])(q,_,S,!1,null,"64b3e475",null),Y=X.exports;j()(X,{VBtn:B["a"],VDivider:J["a"],VIcon:z["a"],VList:I["a"],VListItem:N["a"],VListItemIcon:W["a"],VListItemTitle:U["c"],VNavigationDrawer:Q["a"]});a("4160"),a("159b");var Z=a("d096"),ee=a("5c7d"),te=a.n(ee),ae=a("2f62"),ne=a("0e44"),re={loading:!1,loadingMessage:"",user:null,token:null,signals:[]},ie=a("ade3"),se=(a("96cf"),a("1da1")),oe=(a("99af"),a("8c4f")),ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"Dashboard"},[a("div",{staticClass:"text-h1"},[e._v("Signals")]),a("v-container",{staticClass:"signals"},[e._l(e.signals,(function(e,t){return[a("signal-row",{key:t,attrs:{value:e}})]}))],2)],1)},le=[],ue=a("2909"),pe=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"setLoading",value:function(e){this.$store.commit(G.LOADING,{loading:e})}}]),a}(p["e"]);pe=Object(u["a"])([p["a"]],pe);var de=pe,ve=10,he=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pagination={lastPage:1,page:0,prev:0,next:0,perPage:ve,total:0,hasNext:!1,hasPrev:!1,filter:""},e.items=[],e}return Object(o["a"])(a,[{key:"updatePagination",value:function(e){this.pagination.page=e.pagination.page,this.pagination.prev=e.pagination.prev,this.pagination.next=e.pagination.next,this.pagination.perPage=e.pagination.perPage,this.pagination.total=e.pagination.total,this.pagination.hasPrev=e.pagination.hasPrev,this.pagination.hasNext=e.pagination.hasNext,this.pagination.lastPage=Math.floor(e.pagination.total/this.pagination.perPage),this.items=e.data}}]),a}(p["e"]);he=Object(u["a"])([p["a"]],he);var ge=he,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"Signal"},[a("v-text-field",{staticClass:"ticker",attrs:{disabled:"",label:"Ticker",outlined:"",dense:""},model:{value:e.model.ticker,callback:function(t){e.$set(e.model,"ticker",t)},expression:"model.ticker"}}),a("v-text-field",{staticClass:"ticker",attrs:{disabled:"",label:"Trigger price",outlined:"",dense:""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return["above"===e.model.priceStatus?a("v-icon",e._g({staticClass:"icon",attrs:{large:"",color:"green darken-2"}},n),[e._v("mdi-arrow-up")]):"below"===e.model.priceStatus?a("v-icon",e._g({staticClass:"icon",attrs:{large:"",color:"red darken-2"}},n),[e._v("mdi-arrow-down")]):a("v-icon",e._g({staticClass:"icon",attrs:{large:"",color:"orange darken-2"}},n),[e._v("mdi-tilde")])]}}])},[a("span",[e._v("Ticker current price status - above signal, below signal or undetermined")])]),a("v-sparkline",{staticClass:"sparkline",attrs:{smooth:10,"line-width":4,padding:"2","stroke-linecap":"round"},model:{value:e.model.sparkline,callback:function(t){e.$set(e.model,"sparkline",t)},expression:"model.sparkline"}})],1)},be=[],me=(a("b680"),function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"onModelChanged",value:function(){this.model.changed=!0}},{key:"model",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(p["e"]));Object(u["a"])([Object(p["c"])("change")],me.prototype,"value",void 0),Object(u["a"])([Object(p["f"])("model",{deep:!0})],me.prototype,"onModelChanged",null),me=Object(u["a"])([p["a"]],me);var Oe=me,je=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"random",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"price",get:function(){return this.model.price&&this.model.price.toFixed?this.model.price.toFixed(3):this.model.price}}]),a}(Object(p["b"])(Oe));je=Object(u["a"])([Object(p["a"])({components:{},mixins:[Oe]})],je);var ke=je,ye=ke,we=(a("27a1"),a("0fd9")),xe=a("7f2e"),_e=a("8654"),Se=a("3a2f"),Te=Object(m["a"])(ye,fe,be,!1,null,"cf49ed78",null),Ce=Te.exports;j()(Te,{VIcon:z["a"],VRow:we["a"],VSparkline:xe["a"],VTextField:_e["a"],VTooltip:Se["a"]});var Le=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"fetch",value:function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading(!0),e.next=4,this.loadSignals({page:this.pagination.page,perPage:this.pagination.perPage,filter:this.pagination.filter});case 4:t=e.sent,this.pagination.page=t.pagination.page,this.pagination.prev=t.pagination.prev,this.pagination.next=t.pagination.next,this.pagination.perPage=t.pagination.perPage,this.pagination.total=t.pagination.total,this.pagination.hasPrev=t.pagination.hasPrev,this.pagination.hasNext=t.pagination.hasNext,this.pagination.lastPage=Math.floor(t.pagination.total/this.pagination.perPage),this.items=[].concat(Object(ue["a"])(this.items),Object(ue["a"])(t.data)),a=this.signals.map((function(e){return e.id})),ta.send({event:"subscribe_signals",payload:{signals:a}}),ta.send({event:"subscribe_sparklines",payload:{signals:a}}),e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](0);case 21:return e.prev=21,this.setLoading(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[0,19,21,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.fetch()}}]),a}(Object(p["b"])(de,ge));Object(u["a"])([Object(d["c"])("signals")],Le.prototype,"signals",void 0),Object(u["a"])([Object(d["a"])(H.LOAD_SIGNALS)],Le.prototype,"loadSignals",void 0),Le=Object(u["a"])([Object(p["a"])({components:{SignalRow:Ce},mixins:[de,ge]})],Le);var Re=Le,Ee=Re,Ae=a("a523"),Ve=Object(m["a"])(Ee,ce,le,!1,null,null,null),Ie=Ve.exports;j()(Ve,{VContainer:Ae["a"]});var Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"Account--Login fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Login form")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-account",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.handleLogin}},[e._v("Login")])],1)],1)],1)],1)],1)},Pe=[],Ue=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.username="",e.password="",e}return Object(o["a"])(a,[{key:"handleLogin",value:function(){this.login({username:this.username,password:this.password})}}]),a}(p["e"]);Object(u["a"])([Object(d["a"])(H.LOGIN)],Ue.prototype,"login",void 0),Ue=Object(u["a"])([Object(p["a"])({components:{}})],Ue);var $e=Ue,De=$e,Ge=a("b0af"),He=a("99d9"),Ke=a("62ad"),Me=a("4bd4"),Fe=a("2fa4"),qe=a("71d9"),Be=a("2a7f"),Je=Object(m["a"])(De,Ne,Pe,!1,null,null,null),ze=Je.exports;j()(Je,{VBtn:B["a"],VCard:Ge["a"],VCardActions:He["a"],VCardText:He["b"],VCol:Ke["a"],VContainer:Ae["a"],VForm:Me["a"],VRow:we["a"],VSpacer:Fe["a"],VTextField:_e["a"],VToolbar:qe["a"],VToolbarTitle:Be["a"]});var We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"SignalsList",attrs:{fluid:""}},[a("v-custom-table",{attrs:{title:"Signals",headers:e.headers,items:e.items,perPage:e.pagination.perPage,total:e.pagination.total,loading:e.loading,onOptionsChange:e.handleTableChange,onSearchChange:e.handleTableSearch,onRowClick:e.handleRowClick,onRefresh:e.fetch,newItemUrl:"/signals/new"}},[a("template",{slot:"search"},[a("v-text-field",{staticClass:"mr-2 search-field",attrs:{"append-icon":"mdi-magnify",label:"Search by ticker","single-line":"","hide-details":"",dense:""},on:{keyup:function(t){return e.handleTableSearch(t.target.value)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],2)],1)},Qe=[],Xe=(a("ac1f"),a("841c"),a("5530")),Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[e._v(" "+e._s(e.title)+" "),a("v-btn",{attrs:{icon:"",color:"green"},on:{click:e.handleRefresh}},[a("v-icon",[e._v("mdi-cached")])],1),e.newItemUrl?a("v-btn",{attrs:{icon:"",color:"info",to:e.newItemUrl}},[a("v-icon",[e._v("mdi-plus")])],1):e._e(),e._t("toolbar"),a("v-spacer"),e._t("search",[e.disableSearch?e._e():a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{"click:append":e.searchChanged},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})])],2),a("v-data-table",{class:e.getClass,attrs:{headers:e.getHeaders,items:e.items,"items-per-page":e.perPage,options:e.options,"server-items-length":e.total},on:{"update:options":function(t){e.options=t},"click:row":e.handleRowClick},scopedSlots:e._u([e._l(e.itemSlots,(function(t,n){return{key:t.name,fn:function(r){return[a("div",{key:n,domProps:{innerHTML:e._s(t.template(r))}})]}}}))],null,!0)})],1)],1)],1)},Ze=[],et=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.options={page:e.page,itemsPerPage:e.perPage,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1},e.debounceSearch=null,e.search="",e}return Object(o["a"])(a,[{key:"handleRowClick",value:function(e){this.onRowClick&&this.onRowClick(e)}},{key:"handleRefresh",value:function(){this.onRefresh&&this.onRefresh()}},{key:"optionsChanged",value:function(){this.onOptionsChange(this.options)}},{key:"searchChanged",value:function(){var e=this;this.onSearchChange&&(this.debounceSearch&&(clearTimeout(this.debounceSearch),this.debounceSearch=null),this.debounceSearch=setTimeout((function(){e.onSearchChange(e.search)}),500))}},{key:"getClass",get:function(){return"elevation-1 ".concat(this.className||"")}},{key:"getHeaders",get:function(){var e={align:"start",sortable:!1,filterable:!1,groupable:!1};return this.headers.map((function(t){return"string"===typeof t?Object(Xe["a"])(Object(Xe["a"])({},e),{},{text:t,value:t}):Object(Xe["a"])(Object(Xe["a"])({},e),t)}))}}]),a}(p["e"]);Object(u["a"])([Object(p["d"])({default:""})],et.prototype,"title",void 0),Object(u["a"])([Object(p["d"])({default:[]})],et.prototype,"items",void 0),Object(u["a"])([Object(p["d"])({default:[],required:!0})],et.prototype,"headers",void 0),Object(u["a"])([Object(p["d"])({default:""})],et.prototype,"className",void 0),Object(u["a"])([Object(p["d"])({default:0})],et.prototype,"total",void 0),Object(u["a"])([Object(p["d"])({default:ve})],et.prototype,"perPage",void 0),Object(u["a"])([Object(p["d"])({default:1})],et.prototype,"page",void 0),Object(u["a"])([Object(p["d"])({default:!1})],et.prototype,"loading",void 0),Object(u["a"])([Object(p["d"])({default:"Loading data..."})],et.prototype,"loadingText",void 0),Object(u["a"])([Object(p["d"])({default:!1})],et.prototype,"disableSearch",void 0),Object(u["a"])([Object(p["d"])({default:""})],et.prototype,"newItemUrl",void 0),Object(u["a"])([Object(p["d"])({type:Array,required:!1,default:function(){return[]}})],et.prototype,"itemSlots",void 0),Object(u["a"])([Object(p["d"])({type:Function,required:!0})],et.prototype,"onOptionsChange",void 0),Object(u["a"])([Object(p["d"])({type:Function,required:!1})],et.prototype,"onSearchChange",void 0),Object(u["a"])([Object(p["d"])({type:Function,required:!1})],et.prototype,"onRowClick",void 0),Object(u["a"])([Object(p["d"])({type:Function,required:!1})],et.prototype,"onRefresh",void 0),Object(u["a"])([Object(p["f"])("options")],et.prototype,"optionsChanged",null),Object(u["a"])([Object(p["f"])("search")],et.prototype,"searchChanged",null),et=Object(u["a"])([Object(p["a"])({components:{}})],et);var tt=et,at=tt,nt=(a("8565"),a("8fea")),rt=Object(m["a"])(at,Ye,Ze,!1,null,"1fa5065e",null),it=rt.exports;j()(rt,{VBtn:B["a"],VCard:Ge["a"],VCardTitle:He["c"],VCol:Ke["a"],VDataTable:nt["a"],VIcon:z["a"],VRow:we["a"],VSpacer:Fe["a"],VTextField:_e["a"]});var st=a("bc3a"),ot=a.n(st),ct=ot.a.create({baseURL:"https://binance-tracker-dev.herokuapp.com"});function lt(e){ct.defaults.headers.common["Authorization"]=e?"Bearer ".concat(e):""}var ut=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ct.post("/api/account/login",{email:t,password:a}).then((function(e){var t=e.data;return{token:t.token,user:t.user}})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pt=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ct.get("/api/account/me").then((function(e){var t=e.data;return{token:t.token,user:t.user}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t){var a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.page,n=t.perPage,r=t.filter,i=t.paid,e.abrupt("return",ct.get("/api/signals",{params:{page:a,perPage:n,filter:r,paid:i}}).then((function(e){var t=e.data;return t})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ct.get("/api/signals/".concat(t)).then((function(e){var t=e.data;return t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ct.post("/api/signals",t).then((function(e){var t=e.data;return t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ct.put("/api/signals/".concat(t.id),t).then((function(e){var t=e.data;return t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ct.delete("/api/signals/".concat(t)).then((function(e){var t=e.data;return t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=a("b047c"),mt=a.n(bt),Ot=function(e){return function(t,a){return{configurable:!0,enumerable:!1,value:mt()(t[a],e)}}},jt=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.search="",e.debounceSearch=null,e.headers=[{text:"Id",value:"id"},{text:"Ticker",value:"ticker"},{text:"Price",value:"price"},{text:"Status",value:"status"},{text:"Profitability",value:"profitability"},{text:"Risk",value:"risk"},{text:"Term",value:"term"},{text:"Volume",value:"volume"},{text:"Is paid",value:"paid"},{text:"Is commentable",value:"commentsAllowed"}],e}return Object(o["a"])(a,[{key:"fetch",value:function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.setLoading(!0),e.next=4,dt({page:this.pagination.page,perPage:this.pagination.perPage,filter:this.pagination.filter});case 4:t=e.sent,this.updatePagination(t),e.next=11;break;case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return");case 11:return e.prev=11,this.setLoading(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,8,11,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleTableChange",value:function(e){var t=e.page,a=e.itemsPerPage;this.pagination=Object(Xe["a"])(Object(Xe["a"])({},this.pagination),{},{page:t,perPage:a}),this.fetch()}},{key:"handleTableSearch",value:function(e){this.pagination=Object(Xe["a"])(Object(Xe["a"])({},this.pagination),{},{filter:e}),this.fetch()}},{key:"handleRowClick",value:function(e){var t=e.id;t&&this.$router.push({name:"signal-edit",params:{signalId:"".concat(t)}})}}]),a}(Object(p["b"])(de,ge));Object(u["a"])([Object(d["c"])("loading")],jt.prototype,"loading",void 0),Object(u["a"])([Ot(500)],jt.prototype,"handleTableSearch",null),jt=Object(u["a"])([Object(p["a"])({components:{VCustomTable:it},mixins:[de,ge]})],jt);var kt=jt,yt=kt,wt=(a("8058"),Object(m["a"])(yt,We,Qe,!1,null,"9b0988b0",null)),xt=wt.exports;j()(wt,{VContainer:Ae["a"],VTextField:_e["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.signal?a("v-container",{staticClass:"SignalEdit"},[a("div",{staticClass:"text-center text-h5"},[e._v("Signal information")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.requiredRules,label:"Ticker",required:"","hide-details":""},model:{value:e.signal.ticker,callback:function(t){e.$set(e.signal,"ticker",t)},expression:"signal.ticker"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{label:"Signal status",items:e.statusOptions,"hide-details":""},model:{value:e.signal.status,callback:function(t){e.$set(e.signal,"status",t)},expression:"signal.status"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{type:"number",rules:e.requiredRules,label:"Price",required:"","hide-details":""},model:{value:e.signal.price,callback:function(t){e.$set(e.signal,"price",e._n(t))},expression:"signal.price"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{type:"number",label:"Profitability","hide-details":""},model:{value:e.signal.profitability,callback:function(t){e.$set(e.signal,"profitability",e._n(t))},expression:"signal.profitability"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{label:"Risk",items:e.riskOptions,"hide-details":""},model:{value:e.signal.risk,callback:function(t){e.$set(e.signal,"risk",t)},expression:"signal.risk"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"Volume",required:"","hide-details":""},model:{value:e.signal.volume,callback:function(t){e.$set(e.signal,"volume",e._n(t))},expression:"signal.volume"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{label:"Terms",items:e.termsOptions,"hide-details":""},model:{value:e.signal.term,callback:function(t){e.$set(e.signal,"term",t)},expression:"signal.term"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-checkbox",{attrs:{label:"Paid signal","hide-details":""},model:{value:e.signal.paid,callback:function(t){e.$set(e.signal,"paid",t)},expression:"signal.paid"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-checkbox",{attrs:{label:"Signal commenting allowed","hide-details":""},model:{value:e.signal.commentsAllowed,callback:function(t){e.$set(e.signal,"commentsAllowed",t)},expression:"signal.commentsAllowed"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-4 button",on:{click:e.handleClose}},[e._v("Close")]),a("v-btn",{staticClass:"button",attrs:{color:"success"},on:{click:e.handleSave}},[e._v("Save")])],1)],1),e.signal.id?a("v-card",{staticClass:"danger-section"},[a("v-card-title",{staticClass:"danger-section-title"},[e._v(" Danger section ")]),a("v-card-text",{staticClass:"d-flex justify-space-between align-center"},[a("div",[e._v(" This action irreversibly delete signal from database. All correspondig data (history, comments, posts) would be removed too. ")]),a("v-btn",{staticClass:"button",attrs:{color:"error"},on:{click:e.handleDelete}},[e._v("Delete signal")])],1)],1):e._e()],1):e._e()},St=[],Tt={id:0,status:"active",profitability:0,ticker:"",risk:"",term:"",volume:0,paid:!1,commentsAllowed:!0,price:0},Ct=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.statusOptions=[{value:"delayed",text:"Delayed"},{value:"active",text:"Active"},{value:"fired",text:"Fired"},{value:"cancelled",text:"Cancelled"}],e.riskOptions=[{value:"high",text:"High"},{value:"medium",text:"Medium"},{value:"low",text:"Low"}],e.termsOptions=[{value:"short",text:"Short"},{value:"medium",text:"Medium"},{value:"long",text:"Long"}],e.requiredRules=[function(e){return!!e||"Field is required"}],e.signal=Object(Xe["a"])({},Tt),e}return Object(o["a"])(a,[{key:"fetch",value:function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params.signalId,"new"!==t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this.setLoading(!0),e.next=7,vt(t);case 7:a=e.sent,n=a.signal,this.signal=Object(Xe["a"])(Object(Xe["a"])({},Tt),n),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),this.$toasted.error("Unable to load signal");case 15:return e.prev=15,this.setLoading(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.fetch()}},{key:"handleRemove",value:function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=9;break}return this.setLoading(!0),e.prev=2,e.next=5,ft(t.id);case 5:return e.prev=5,this.setLoading(!1),e.finish(5);case 8:this.$router.push({name:"signals-list"});case 9:case"end":return e.stop()}}),e,this,[[2,,5,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleSave",value:function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={id:this.signal.id,status:this.signal.status,profitability:this.signal.profitability,ticker:this.signal.ticker,risk:this.signal.risk,term:this.signal.term,volume:this.signal.volume,paid:!!this.signal.paid,commentsAllowed:!!this.signal.commentsAllowed,price:this.signal.price},this.setLoading(!0),e.prev=2,!t.id){e.next=9;break}return e.next=6,gt(t);case 6:this.signal=e.sent,e.next=12;break;case 9:return e.next=11,ht(t);case 11:this.signal=e.sent;case 12:this.$toasted.success("Signal saved"),e.next=19;break;case 15:return e.prev=15,e.t0=e["catch"](2),this.$toasted.error("Unable to save signal!"),e.abrupt("return");case 19:return e.prev=19,this.setLoading(!1),e.finish(19);case 22:this.handleClose();case 23:case"end":return e.stop()}}),e,this,[[2,15,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleClose",value:function(){this.$router.back()}},{key:"handleDelete",value:function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.signal.id){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ft(this.signal.id);case 5:this.$toasted.success("Signal removed"),e.next=12;break;case 8:return e.prev=8,e.t0=e["catch"](2),this.$toasted.error("Unable to delete signal!"),e.abrupt("return");case 12:return e.prev=12,this.setLoading(!1),e.finish(12);case 15:this.handleClose();case 16:case"end":return e.stop()}}),e,this,[[2,8,12,15]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(Object(p["b"])(de));Ct=Object(u["a"])([Object(p["a"])({components:{},mixins:[de]})],Ct);var Lt=Ct,Rt=Lt,Et=(a("5a18"),a("ac7c")),At=a("b974"),Vt=Object(m["a"])(Rt,_t,St,!1,null,"e15a775e",null),It=Vt.exports;j()(Vt,{VBtn:B["a"],VCard:Ge["a"],VCardText:He["b"],VCardTitle:He["c"],VCheckbox:Et["a"],VCol:Ke["a"],VContainer:Ae["a"],VRow:we["a"],VSelect:At["a"],VTextField:_e["a"]}),n["a"].use(oe["a"]);var Nt=[{path:"/",name:"dashboard",component:Ie,meta:{title:"Dashboard"}},{path:"/login",name:"login",component:ze,meta:{title:"Login"}},{path:"/signals",name:"signals-list",component:xt,meta:{auth:!0,showInMenu:!0,icon:"mdi-pencil-box-multiple-outline",title:"Signals"}},{path:"/signals/:signalId",name:"signal-edit",component:It,meta:{auth:!0,title:"Signal"}}],Pt=new oe["a"]({mode:"history",base:"/",routes:Nt});Pt.beforeEach(function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t,a,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Router: to ".concat(t.name,", params: ").concat(JSON.stringify(t.params))),r=t.meta&&t.meta.title,document.title=r?"Binance tracker :: ".concat(r):"Binance tracker",i=t.meta&&t.meta.auth,i){e.next=6;break}return e.abrupt("return",n());case 6:if(zt.getters.isLoggedOn){e.next=9;break}return e.next=9,zt.dispatch(H.CHECK_AUTH_TOKEN,{next:t.name,params:t.params});case 9:if(zt.getters.isLoggedOn){e.next=11;break}return e.abrupt("return",n({name:"login"}));case 11:return e.abrupt("return",n());case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());var Ut,$t,Dt=Pt,Gt=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t,a){var n,r,i,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=a.username,i=a.password,console.log("ACTION login",r,i),n(G.LOADING,{loading:!0}),n(G.SET_AUTH_TOKEN,{token:null}),e.prev=5,e.next=8,ut(r,i);case 8:return s=e.sent,o=s.token,c=s.user,n(G.SET_AUTH_TOKEN,{token:o}),n(G.SET_USER,{user:c}),e.abrupt("return",Dt.push({name:"dashboard"}));case 16:e.prev=16,e.t0=e["catch"](5),n(G.SET_AUTH_TOKEN,{token:null}),n(G.SET_USER,{user:null}),console.error("Login error"),console.error(e.t0);case 22:return e.prev=22,n(G.LOADING,{loading:!1}),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,16,22,25]])})));return function(t,a){return e.apply(this,arguments)}}(),Ht=function(e){var t=e.commit;t(G.SET_AUTH_TOKEN,{token:null}),t(G.SET_USER,{user:null}),Dt.push({name:"login"}).catch((function(){}))},Kt=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t,a){var n,r,i,s,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,r=t.commit,i=a.next,s=a.params,console.log("ACTION loadUserInfo"),r(G.LOADING,{loading:!0,message:"Authenticating..."}),o=n.token,lt(o),e.prev=6,o){e.next=9;break}return e.abrupt("return",Dt.push({name:"login"}).catch((function(){})));case 9:return e.next=11,pt();case 11:c=e.sent,l=c.user,u=c.token,r(G.SET_USER,{user:l}),r(G.SET_AUTH_TOKEN,{token:u}),Dt.push({name:i||"dashboard",params:s||{}}).catch((function(){})),e.next=26;break;case 19:return e.prev=19,e.t0=e["catch"](6),r(G.SET_AUTH_TOKEN,{token:null}),r(G.SET_USER,{user:null}),console.error("Check auth user error"),console.error(e.t0),e.abrupt("return",Dt.push({name:"login"}).catch((function(){})));case 26:return e.prev=26,r(G.LOADING,{loading:!1}),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[6,19,26,29]])})));return function(t,a){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(se["a"])(regeneratorRuntime.mark((function e(t,a){var n,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=a.page,i=a.perPage,s=a.filter,console.log("ACTION loadUserInfo"),n(G.LOADING,{loading:!0,message:"Authenticating..."}),e.prev=4,e.next=7,dt({page:r,perPage:i,filter:s});case 7:return o=e.sent,n(G.SET_SIGNALS,{signals:o.data}),e.abrupt("return",o);case 12:e.prev=12,e.t0=e["catch"](4),console.error("Check auth user error"),console.error(e.t0);case 16:return e.prev=16,n(G.LOADING,{loading:!1}),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])})));return function(t,a){return e.apply(this,arguments)}}(),Ft=(Ut={},Object(ie["a"])(Ut,H.LOGIN,Gt),Object(ie["a"])(Ut,H.LOGOUT,Ht),Object(ie["a"])(Ut,H.CHECK_AUTH_TOKEN,Kt),Object(ie["a"])(Ut,H.LOAD_SIGNALS,Mt),Ut),qt=(a("cb29"),$t={},Object(ie["a"])($t,G.LOADING,(function(e,t){var a=t.loading,n=t.message;e.loading=a,e.loadingMessage=n})),Object(ie["a"])($t,G.SET_AUTH_TOKEN,(function(e,t){var a=t.token;e.token=a})),Object(ie["a"])($t,G.SET_USER,(function(e,t){var a=t.user;e.user=a})),Object(ie["a"])($t,G.SET_SIGNALS,(function(e,t){var a=t.signals;e.signals=a.map((function(e){return Object(Xe["a"])({sparkline:new Array(30).fill(0)},e)}))})),$t),Bt={isLoggedOn:function(e){return!!(e.token&&e.user&&e.user.id)}};n["a"].use(ae["a"]);var Jt=new ae["a"].Store({state:re,mutations:qt,actions:Ft,getters:Bt,plugins:[Object(ne["a"])({paths:["token"]})]});Jt.subscribe((function(e,t){e.type===G.SET_AUTH_TOKEN&&lt(t.token)}));var zt=Jt,Wt=a("b8ce"),Qt=a.n(Wt),Xt="ws://localhost:3000/ws";console.log("WS endpoint: ".concat(Xt));var Yt=function(){function e(t,a){var n=this;Object(s["a"])(this,e),this.messageId=1,this.handlers={},this.ws=new Z["a"](t),a&&this.ws.addEventListener("open",a),this.ws.addEventListener("message",(function(e){var t=e.data,a=JSON.parse(t),r=a.event,i=a.payload,s=n.handlers[r];s&&s(i)}))}return Object(o["a"])(e,[{key:"send",value:function(e){e.id||(e.id=this.messageId++),e.token||(e.token=zt.state.token),te.a.debug("WS.send:: payload: ".concat(JSON.stringify(e))),this.ws.send(JSON.stringify(e))}},{key:"on",value:function(e,t){this.handlers[e]=t}}]),e}(),Zt=new Yt(Xt,(function(){console.log("Websocket opened")})),ea=(new Date).getTime();Zt.on("sparkline",(function(e){var t=e.sparkline,a=e.ticker,n=(new Date).getTime();if(n-ea>1e3){ea=n;var r=Qt()(zt.state.signals);r.forEach((function(e){e.ticker===a&&(e.sparkline=t)})),zt.commit(G.SET_SIGNALS,{signals:r})}}));var ta=Zt,aa=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"handleLogout",value:function(){K(this.$store)}},{key:"hideControls",get:function(){return!this.isLoggedOn||"login"===this.$route.name}}]),a}(p["e"]);Object(u["a"])([Object(d["b"])("isLoggedOn")],aa.prototype,"isLoggedOn",void 0),aa=Object(u["a"])([Object(p["a"])({components:{Loader:x,Drawer:Y}})],aa);var na=aa,ra=na,ia=(a("5c0b"),a("7496")),sa=a("40dc"),oa=a("adda"),ca=a("f6c4"),la=Object(m["a"])(ra,r,i,!1,null,null,null),ua=la.exports;j()(la,{VApp:ia["a"],VAppBar:sa["a"],VBtn:B["a"],VImg:oa["a"],VMain:ca["a"],VSpacer:Fe["a"]});var pa=a("9483");Object(pa["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var da=a("f309");n["a"].use(da["a"]);var va=new da["a"]({}),ha=a("a65d"),ga=a.n(ha);n["a"].use(ga.a,{duration:1e3,keepOnHover:!0}),n["a"].config.productionTip=!1;new n["a"]({router:Dt,store:zt,vuetify:va,render:function(e){return e(ua)}}).$mount("#app")},cf05:function(e,t,a){e.exports=a.p+"img/logo.527d3a46.png"},f48c:function(e,t,a){},f632:function(e,t,a){}});
//# sourceMappingURL=app.187e5093.js.map