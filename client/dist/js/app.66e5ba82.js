(function(t){function e(e){for(var r,s,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"05f5":function(t,e,a){},"0ebf":function(t,e,a){"use strict";var r=a("c938"),n=a.n(r);n.a},"176d":function(t,e,a){},"270e":function(t,e,a){},"380e":function(t,e,a){"use strict";var r=a("270e"),n=a.n(r);n.a},"422b":function(t,e,a){"use strict";var r=a("757b"),n=a.n(r);n.a},"4c96":function(t,e,a){},"542e":function(t,e,a){"use strict";var r=a("5ef9"),n=a.n(r);n.a},"5c0b":function(t,e,a){"use strict";var r=a("9c0c"),n=a.n(r);n.a},"5ef9":function(t,e,a){},"74d3":function(t,e,a){"use strict";var r=a("a86b"),n=a.n(r);n.a},"757b":function(t,e,a){},"76fe":function(t,e,a){"use strict";var r=a("8213"),n=a.n(r);n.a},8213:function(t,e,a){},"907f":function(t,e,a){"use strict";var r=a("05f5"),n=a.n(r);n.a},"9c0c":function(t,e,a){},a071:function(t,e,a){"use strict";var r=a("c25f"),n=a.n(r);n.a},a86b:function(t,e,a){},c25f:function(t,e,a){},c938:function(t,e,a){},c999:function(t,e,a){"use strict";var r=a("4c96"),n=a.n(r);n.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("v-img",{attrs:{alt:"BinanceTracker",contain:"",src:a("cf05"),transition:"scale-transition",height:"45",width:"50"}}),r("div",{staticClass:"text-h5"})],1),r("v-spacer"),t.isLoggedOn?t._e():r("v-btn",{attrs:{to:{name:"login"}}},[t._v("Login")]),t.isLoggedOn?r("v-btn",{on:{click:t.handleLogout}},[t._v("Logout")]):t._e()],1),t.hideControls?t._e():r("drawer"),r("v-main",[r("router-view")],1),r("loader")],1)},i=[],s=(a("b0c0"),a("d4ec")),o=a("bee2"),l=a("262e"),c=a("2caf"),u=a("9ab4"),d=a("60a3"),p=a("4bb5"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-overlay",{staticClass:"loading-indicator",attrs:{value:t.loading,"z-index":"999"}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}}),t.message?a("div",{staticClass:"text-h5"},[t._v(t._s(t.message))]):t._e()],1)},f=[],h=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(d["d"]);Object(u["a"])([Object(p["c"])("loading")],h.prototype,"loading",void 0),Object(u["a"])([Object(p["c"])("loadingMessage")],h.prototype,"message",void 0),h=Object(u["a"])([Object(d["a"])({components:{}})],h);var m=h,b=m,g=(a("a071"),a("2877")),O=a("6544"),_=a.n(O),y=a("a797"),k=a("490a"),j=Object(g["a"])(b,v,f,!1,null,null,null),x=j.exports;_()(j,{VOverlay:y["a"],VProgressCircular:k["a"]});var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user&&"admin"===t.user.role?a("v-navigation-drawer",{attrs:{app:"",permanent:"","expand-on-hover":""},scopedSlots:t._u([{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-btn",{attrs:{block:""},on:{click:t.handleLogout}},[t._v("Logout")])],1)]},proxy:!0}],null,!1,1319748372)},[a("drawer-account"),a("v-divider"),a("v-list",{attrs:{nav:"",dense:""}},t._l(t.routes,(function(e,r){return a("v-list-item",{key:r,attrs:{link:"",to:e.url}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-title",[t._v(t._s(e.title))])],1)})),1)],1):t._e()},S=[],C=(a("4de4"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("v-list",[a("v-list-item",{staticClass:"px-2"},[a("v-list-item-avatar",[a("gravatar",{attrs:{email:t.user.email,defaultImage:"mp",size:100}})],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.user.name)+" ["+t._s(t.user.role)+"]")]),a("v-list-item-subtitle",[t._v(t._s(t.user.email))])],1)],1)],1):t._e()}),P=[],L=a("e06a"),E=a.n(L),T=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(d["d"]);Object(u["a"])([Object(p["c"])("user")],T.prototype,"user",void 0),T=Object(u["a"])([Object(d["a"])({components:{Gravatar:E.a}})],T);var V=T,$=V,A=a("8860"),I=a("da13"),R=a("8270"),N=a("5d23"),D=Object(g["a"])($,C,P,!1,null,null,null),U=D.exports;_()(D,{VList:A["a"],VListItem:I["a"],VListItemAvatar:R["a"],VListItemContent:N["a"],VListItemSubtitle:N["b"],VListItemTitle:N["c"]});var q={LOADING:"LOADING",SET_USER:"SET_USER",SET_AUTH_TOKEN:"SET_AUTH_TOKEN",SET_SIGNALS:"SET_SIGNALS",SET_AVAILABLE_SIGNALS:"SET_AVAILABLE_SIGNALS"},F={LOGIN:"LOGIN",LOGOUT:"LOGOUT",CHECK_AUTH_TOKEN:"CHECK_AUTH_TOKEN",LOAD_SIGNALS:"LOAD_SIGNALS"},H=function(t){t.commit(q.SET_AUTH_TOKEN,{token:""}),t.commit(q.SET_USER,{user:null})},G=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"handleLogout",value:function(){H(this.$store)}},{key:"routes",get:function(){var t,e=null===(t=this.$router.options)||void 0===t?void 0:t.routes;return e?e.map((function(t){var e=t.meta;return!(!e||!e.showInMenu)&&{title:e.title||t.name,url:t.path,icon:e.icon}})).filter((function(t){return!!t})):[]}}]),a}(d["d"]);Object(u["a"])([Object(p["c"])("user")],G.prototype,"user",void 0),G=Object(u["a"])([Object(d["a"])({components:{DrawerAccount:U}})],G);var B=G,M=B,K=(a("74d3"),a("8336")),J=a("ce7e"),Y=a("132d"),W=a("34c3"),z=a("f774"),Z=Object(g["a"])(M,w,S,!1,null,"64b3e475",null),Q=Z.exports;_()(Z,{VBtn:K["a"],VDivider:J["a"],VIcon:Y["a"],VList:A["a"],VListItem:I["a"],VListItemIcon:W["a"],VListItemTitle:N["c"],VNavigationDrawer:z["a"]});a("c740"),a("4160"),a("a15b"),a("159b");var X=a("5530"),tt=a("faa1"),et=a("d096"),at=a("5c7d"),rt=a.n(at),nt=(a("99af"),a("2f62")),it=a("0e44"),st={loading:!1,loadingMessage:"",user:null,token:null,signals:[],available:[]},ot=a("ade3"),lt=(a("96cf"),a("1da1")),ct=a("8c4f"),ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"Account--Login fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Login form")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-account",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.handleLogin}},[t._v("Login")])],1)],1)],1)],1)],1)},dt=[],pt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.username="",t.password="",t}return Object(o["a"])(a,[{key:"handleLogin",value:function(){this.login({username:this.username,password:this.password})}}]),a}(d["d"]);Object(u["a"])([Object(p["a"])(F.LOGIN)],pt.prototype,"login",void 0),pt=Object(u["a"])([Object(d["a"])({components:{}})],pt);var vt=pt,ft=vt,ht=a("b0af"),mt=a("99d9"),bt=a("62ad"),gt=a("a523"),Ot=a("4bd4"),_t=a("0fd9"),yt=a("2fa4"),kt=a("8654"),jt=a("71d9"),xt=a("2a7f"),wt=Object(g["a"])(ft,ut,dt,!1,null,null,null),St=wt.exports;_()(wt,{VBtn:K["a"],VCard:ht["a"],VCardActions:mt["a"],VCardText:mt["b"],VCol:bt["a"],VContainer:gt["a"],VForm:Ot["a"],VRow:_t["a"],VSpacer:yt["a"],VTextField:kt["a"],VToolbar:jt["a"],VToolbarTitle:xt["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"Dashboard",attrs:{fluid:""}},[a("v-custom-table",{attrs:{title:"Signals",headers:t.headers,items:t.items,perPage:t.pagination.perPage,total:t.pagination.total,loading:t.loading,onOptionsChange:t.handleTableChange,onSearchChange:t.handleTableSearch,onRowClick:t.handleRowClick,onRefresh:t.fetch,newItemUrl:"/signals/new"},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item,r=t.index;return[a("list-signal-row",{attrs:{value:e,odd:!(r%2)}})]}}])})],1)},Pt=[],Lt=(a("ac1f"),a("841c"),function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"setLoading",value:function(t){this.$store.commit(q.LOADING,{loading:t})}}]),a}(d["d"]));Lt=Object(u["a"])([d["a"]],Lt);var Et=Lt,Tt=10,Vt=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.pagination={lastPage:1,page:0,prev:0,next:0,perPage:Tt,total:0,hasNext:!1,hasPrev:!1,filter:""},t.items=[],t}return Object(o["a"])(a,[{key:"updatePagination",value:function(t){this.pagination.page=t.pagination.page,this.pagination.prev=t.pagination.prev,this.pagination.next=t.pagination.next,this.pagination.perPage=t.pagination.perPage,this.pagination.total=t.pagination.total,this.pagination.hasPrev=t.pagination.hasPrev,this.pagination.hasNext=t.pagination.hasNext,this.pagination.lastPage=Math.floor(t.pagination.total/this.pagination.perPage),this.items=t.data}}]),a}(d["d"]);Vt=Object(u["a"])([d["a"]],Vt);var $t=Vt,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[t._t("title",[t._v(" "+t._s(t.title)+" ")]),t._t("button-refresh",[a("v-btn",{attrs:{icon:"",color:"green"},on:{click:t.handleRefresh}},[a("v-icon",[t._v("mdi-cached")])],1)]),t._t("button-add",[t.newItemUrl?a("v-btn",{attrs:{icon:"",color:"info",to:t.newItemUrl}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()]),t._t("toolbar"),a("v-spacer"),t._t("search",[t.disableSearch?t._e():a("v-text-field",{staticClass:"search",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{keyup:t.searchChanged,"click:append":t.searchChanged},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})])],2),a("v-data-table",{class:t.getClass,attrs:{headers:t.getHeaders,items:t.items,"items-per-page":t.perPage,options:t.options,"server-items-length":t.total},on:{"update:options":function(e){t.options=e},"click:row":t.handleRowClick},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),(function(e){return{key:e,fn:function(a){return[t._t(e,null,null,a)]}}}))],null,!0)},[t._l(Object.keys(t.$slots),(function(e){return t._t(e,null,{slot:e,props:t.props})}))],2)],1)],1)],1)},It=[],Rt=a("b047c"),Nt=a.n(Rt),Dt=function(t){return function(e,a){return{configurable:!0,enumerable:!1,value:Nt()(e[a],t)}}},Ut=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.options={page:t.page,itemsPerPage:t.perPage,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1},t.search="",t}return Object(o["a"])(a,[{key:"handleRowClick",value:function(t){this.onRowClick&&this.onRowClick(t)}},{key:"handleRefresh",value:function(){this.onRefresh&&this.onRefresh()}},{key:"optionsChanged",value:function(){this.onOptionsChange(this.options)}},{key:"searchChanged",value:function(){this.onSearchChange&&this.onSearchChange(this.search)}},{key:"getClass",get:function(){return"elevation-1 ".concat(this.className||"")}},{key:"getHeaders",get:function(){var t={align:"start",sortable:!1,filterable:!1,groupable:!1};return this.headers.map((function(e){return"string"===typeof e?Object(X["a"])(Object(X["a"])({},t),{},{text:e,value:e}):Object(X["a"])(Object(X["a"])({},t),e)}))}}]),a}(d["d"]);Object(u["a"])([Object(d["c"])({default:""})],Ut.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({default:[]})],Ut.prototype,"items",void 0),Object(u["a"])([Object(d["c"])({default:[],required:!0})],Ut.prototype,"headers",void 0),Object(u["a"])([Object(d["c"])({default:""})],Ut.prototype,"className",void 0),Object(u["a"])([Object(d["c"])({default:0})],Ut.prototype,"total",void 0),Object(u["a"])([Object(d["c"])({default:Tt})],Ut.prototype,"perPage",void 0),Object(u["a"])([Object(d["c"])({default:1})],Ut.prototype,"page",void 0),Object(u["a"])([Object(d["c"])({default:!1})],Ut.prototype,"loading",void 0),Object(u["a"])([Object(d["c"])({default:"Loading data..."})],Ut.prototype,"loadingText",void 0),Object(u["a"])([Object(d["c"])({default:!1})],Ut.prototype,"disableSearch",void 0),Object(u["a"])([Object(d["c"])({default:""})],Ut.prototype,"newItemUrl",void 0),Object(u["a"])([Object(d["c"])({type:Array,required:!1,default:function(){return[]}})],Ut.prototype,"itemSlots",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!0})],Ut.prototype,"onOptionsChange",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],Ut.prototype,"onSearchChange",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],Ut.prototype,"onRowClick",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],Ut.prototype,"onRefresh",void 0),Object(u["a"])([Object(d["e"])("options")],Ut.prototype,"optionsChanged",null),Object(u["a"])([Object(d["e"])("search"),Dt(500)],Ut.prototype,"searchChanged",null),Ut=Object(u["a"])([Object(d["a"])({components:{}})],Ut);var qt=Ut,Ft=qt,Ht=(a("dcf5"),a("8fea")),Gt=Object(g["a"])(Ft,At,It,!1,null,"1f2bef11",null),Bt=Gt.exports;_()(Gt,{VBtn:K["a"],VCard:ht["a"],VCardTitle:mt["c"],VCol:bt["a"],VDataTable:Ht["a"],VIcon:Y["a"],VRow:_t["a"],VSpacer:yt["a"],VTextField:kt["a"]});var Mt=a("bc3a"),Kt=a.n(Mt),Jt=function(t){var e=Object({VUE_APP_API_ENDPOINT:"https://binance-tracker-dev.herokuapp.com",NODE_ENV:"production",VUE_APP_WS_ENDPOINT:"wss://binance-tracker-dev.herokuapp.com/ws",BASE_URL:"/"})[t];if(!e)throw new Error('Environment variable "'.concat(t,'" must be defined!'));return console.log('Found mandatory environment variable: "'.concat(t,'"="').concat(e,'"')),e},Yt=Jt("VUE_APP_API_ENDPOINT"),Wt=Jt("VUE_APP_WS_ENDPOINT"),zt=Kt.a.create({baseURL:Yt});function Zt(t){zt.defaults.headers.common["Authorization"]=t?"Bearer ".concat(t):""}var Qt=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",zt.post("/api/account/login",{email:e,password:a}).then((function(t){var e=t.data;return{token:e.token,user:e.user}})));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),Xt=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",zt.get("/api/account/me").then((function(t){var e=t.data;return{token:e.token,user:e.user}})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page,r=e.perPage,n=e.filter,i=e.paid,t.abrupt("return",zt.get("/api/signals",{params:{page:a,perPage:r,filter:n,paid:i}}).then((function(t){var e=t.data;return e})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",zt.get("/api/signals/".concat(e)).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ae=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",zt.post("/api/signals",e).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",zt.put("/api/signals/".concat(e.id),e).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ne=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",zt.delete("/api/signals/".concat(e)).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ie=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",zt.post("/api/signals/bulk",{signals:e}).then((function(t){var e=t.data;return e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{class:"ListSignalRow "+(t.odd?"odd":""),on:{click:t.handleClick}},[a("td",{staticClass:"id-cell"},[t._v(t._s(t.model.id))]),a("td",{staticClass:"ticker-cell"},[t._v(t._s(t.model.title||t.model.ticker))]),a("td",{staticClass:"ticker-cell"},[t._v(t._s(t.model.type))]),a("td",{staticClass:"channel-cell"},[t._v(t._s(t.channel))]),a("td",[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"published-at-data"},[t._v(" "+t._s(t._f("dayjs")(t.model.createdAt,"format","HH:mm DD.MM.YY"))+" ")])])]),a("td",{staticClass:"price-cell"},[t._v(t._s(t.formatPrice(t.model.price)||"-"))]),a("td",{staticClass:"exit-price-cell"},[t._v(t._s(t.formatPrice(t.model.exitPrice)||"-"))]),a("td",{staticClass:"current-price-cell"},[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"current-price"},[t._v(" "+t._s(t.model.lastPrice||"-")+" ")]),a("div",{staticClass:"remainings"},[t._v(t._s(t.$t("remains in position"))+": "+t._s(t.remainings))])])]),a("td",{staticClass:"profitability-cell"},[t._v(t._s(t.profitability))]),a("td",[t._l(t.model.takeProfitOrders,(function(t,e){return[a("list-order-row",{key:e,attrs:{order:t}})]}))],2),a("td",[t._l(t.model.stopLossOrders,(function(t,e){return[a("list-order-row",{key:e,attrs:{order:t}})]}))],2),a("td",[t._v(" "+t._s(t.status)+" "),a("v-btn",{attrs:{icon:"","x-small":""},on:{click:function(e){e.stopPropagation(),t.showSignalStatusHelp=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-information-outline")])],1),a("popup",{attrs:{title:t.$t("Signal statuses"),text:t.$t("statusesHelp")},model:{value:t.showSignalStatusHelp,callback:function(e){t.showSignalStatusHelp=e},expression:"showSignalStatusHelp"}})],1)])},oe=[],le=(a("b680"),a("5319"),function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"model",get:function(){return this.value},set:function(t){var e=this.model;Object.prototype.hasOwnProperty.call(e,"changed")&&(e.changed=!0),this.$emit("input",t)}}]),a}(d["d"]));Object(u["a"])([Object(d["c"])({required:!0})],le.prototype,"value",void 0),le=Object(u["a"])([d["a"]],le);var ce=le,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{staticClass:"Popup",attrs:{"max-width":"290"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[a("v-card",[t.title?a("v-card-title",{staticClass:"headline",domProps:{innerHTML:t._s(t.title)}}):t._e(),a("v-card-text",{domProps:{innerHTML:t._s(t.text)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){e.stopPropagation(),t.model=!1}}},[t._v(" Close ")])],1)],1)],1)},de=[],pe=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(Object(d["b"])(ce));Object(u["a"])([Object(d["c"])({type:String,required:!1})],pe.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({type:String,required:!0})],pe.prototype,"text",void 0),pe=Object(u["a"])([Object(d["a"])({components:{}})],pe);var ve=pe,fe=ve,he=a("169a"),me=Object(g["a"])(fe,ue,de,!1,null,null,null),be=me.exports;_()(me,{VBtn:K["a"],VCard:ht["a"],VCardActions:mt["a"],VCardText:mt["b"],VCardTitle:mt["c"],VDialog:he["a"],VSpacer:yt["a"]});var ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ListOrderRow"},[a("v-tooltip",{attrs:{left:"",disabled:!t.comment},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("div",t._g(t._b({class:{closed:t.order.closed,"closed-partially":t.closedPartially}},"div",n,!1),r),[t._v(" "+t._s(t.orderType)+" @ "+t._s(t.order.price)+" ("+t._s(t.volume)+") ")])]}}])},[a("span",[t._v(t._s(t.comment))])])],1)},Oe=[],_e=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"orderType",get:function(){return"take profit"===this.order.type?"TP":"SL"}},{key:"volume",get:function(){return this.order.closedVolume?"".concat((100*this.order.closedVolume).toFixed(2),"%"):"".concat((100*this.order.volume).toFixed(2),"%")}},{key:"closedPartially",get:function(){return!!this.order.closedVolume&&this.order.closedVolume!==this.order.volume}},{key:"comment",get:function(){return this.closedPartially?"Order closed partially at volume ".concat(this.volume):"Order fully closed at volume ".concat(this.volume)}}]),a}(d["d"]);Object(u["a"])([Object(d["c"])({required:!0})],_e.prototype,"order",void 0),_e=Object(u["a"])([Object(d["a"])({components:{}})],_e);var ye=_e,ke=ye,je=(a("422b"),a("3a2f")),xe=Object(g["a"])(ke,ge,Oe,!1,null,"dc9e70e2",null),we=xe.exports;_()(xe,{VTooltip:je["a"]});var Se=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.showSignalStatusHelp=!1,t}return Object(o["a"])(a,[{key:"handleClick",value:function(){this.$router.push({name:"signal-edit",params:{signalId:"".concat(this.model.id)}})}},{key:"formatPrice",value:function(t){return t&&t.toFixed?t.toFixed(10).replace(/0+$/,""):"-"}},{key:"status",get:function(){var t={delayed:this.$t("Delayed"),active:this.$t("Active"),finished:this.$t("Finished"),cancelled:this.$t("Cancelled")};return t[this.model.status]}},{key:"profitability",get:function(){return this.model.profitability?"".concat(this.model.profitability.toFixed(3),"%"):"-"}},{key:"remainings",get:function(){return!this.model.remaining||isNaN(this.model.remaining)?"0":"".concat((100*this.model.remaining).toFixed(2),"%")}},{key:"channel",get:function(){return this.model&&this.model.channel?this.model.channel.name:"-"}}]),a}(Object(d["b"])(ce));Object(u["a"])([Object(d["c"])({default:!1})],Se.prototype,"odd",void 0),Se=Object(u["a"])([Object(d["a"])({components:{Popup:be,ListOrderRow:we},mixins:[ce]})],Se);var Ce=Se,Pe=Ce,Le=(a("76fe"),Object(g["a"])(Pe,se,oe,!1,null,"2a82f6be",null)),Ee=Le.exports;_()(Le,{VBtn:K["a"],VIcon:Y["a"]});var Te=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.search="",t.debounceSearch=null,t.headers=[{text:t.$t("Id"),value:"id"},{text:t.$t("Currency"),value:"title"},{text:t.$t("Type"),value:"type"},{text:t.$t("Channel"),value:"channel"},{text:t.$t("Published"),value:"createdAt"},{text:t.$t("Entry price"),value:"price"},{text:t.$t("Current exit price"),value:"price"},{text:t.$t("Triggered price"),value:"price"},{text:t.$t("Profitability"),value:"profitability"},{text:t.$t("Take profit"),value:""},{text:t.$t("Stop loss"),value:""},{text:t.$t("Status"),value:"status"}],t}return Object(o["a"])(a,[{key:"fetch",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.setLoading(!0),t.next=4,te({page:this.pagination.page,perPage:this.pagination.perPage,filter:this.pagination.filter});case 4:e=t.sent,this.updatePagination(e),t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return");case 11:return t.prev=11,this.setLoading(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[0,8,11,14]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleTableChange",value:function(t){var e=t.page,a=t.itemsPerPage;this.pagination=Object(X["a"])(Object(X["a"])({},this.pagination),{},{page:e,perPage:a}),this.fetch()}},{key:"handleTableSearch",value:function(t){this.pagination=Object(X["a"])(Object(X["a"])({},this.pagination),{},{filter:t}),this.fetch()}},{key:"handleRowClick",value:function(t){var e=t.id;e&&this.$router.push({name:"signal-edit",params:{signalId:"".concat(e)}})}}]),a}(Object(d["b"])(Et,$t));Object(u["a"])([Object(p["c"])("loading")],Te.prototype,"loading",void 0),Object(u["a"])([Dt(500)],Te.prototype,"handleTableSearch",null),Te=Object(u["a"])([Object(d["a"])({components:{VCustomTable:Bt,ListSignalRow:Ee},mixins:[Et,$t]})],Te);var Ve=Te,$e=Ve,Ae=(a("907f"),Object(g["a"])($e,Ct,Pt,!1,null,"54cf3e3c",null)),Ie=Ae.exports;_()(Ae,{VContainer:gt["a"]});var Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.signal?a("v-container",{staticClass:"SignalEdit"},[a("div",{staticClass:"text-center text-h5"},[t._v(t._s(t.$t("Signal information")))]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("signal-data",{ref:"signalData",attrs:{disabled:t.locked},model:{value:t.signal,callback:function(e){t.signal=e},expression:"signal"}})],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("signal-edit-panel",{staticClass:"mb-4 pb-4",attrs:{title:t.$t("Entry points"),onAdd:t.handleEntryPointAdd,error:t.entryPointError}},[a("v-form",{ref:"entryPointsRef",model:{value:t.entryPointsValid,callback:function(e){t.entryPointsValid=e},expression:"entryPointsValid"}},[t._l(t.signal.entryPoints,(function(e,r){return[a("signal-entry-point",{key:r,attrs:{order:r+1,value:e,disabled:t.locked,onDelete:function(){return t.handleEntryPointDelete(r)}}})]}))],2)],1),a("signal-edit-panel",{staticClass:"mb-4 pb-4",attrs:{title:t.$t("Take profits"),onAdd:t.handleTakeProfitAdd,error:t.takeProfitError}},[a("v-form",{ref:"takeProfitOrdersRef",model:{value:t.takeProfitOrdersValid,callback:function(e){t.takeProfitOrdersValid=e},expression:"takeProfitOrdersValid"}},[t._l(t.signal.takeProfitOrders,(function(e,r){return[a("signal-order",{key:r,attrs:{order:r+1,value:e,disabled:t.locked,onDelete:function(){return t.handleTakeProfitDelete(r)}}})]}))],2)],1),a("signal-edit-panel",{staticClass:"mb-4 pb-4",attrs:{title:t.$t("Stop losses"),onAdd:t.handleStopLossAdd,error:t.stopLossError}},[a("v-form",{ref:"stopLossOrdersRef",model:{value:t.stopLossOrdersValid,callback:function(e){t.stopLossOrdersValid=e},expression:"stopLossOrdersValid"}},[t._l(t.signal.stopLossOrders,(function(e,r){return[a("signal-order",{key:r,attrs:{order:r+1,value:e,disabled:t.locked,onDelete:function(){return t.handleStopLossDelete(r)}}})]}))],2)],1)],1)],1),a("v-row",{staticClass:"button-box"},[a("v-col",{staticClass:"text-right",attrs:{xs:"12"}},[a("v-btn",{attrs:{color:"default"},on:{click:t.handleClose}},[t._v("Close")]),a("v-btn",{staticClass:"ml-4",attrs:{color:"success",disabled:t.locked},on:{click:t.handleSave}},[t._v("Save")])],1)],1),t.signal.id?a("v-card",{staticClass:"danger-section"},[a("v-card-title",{staticClass:"danger-section-title"},[t._v(" Danger section ")]),a("v-card-text",{staticClass:"d-flex justify-space-between align-center"},[a("div",[t._v(" This action irreversibly delete signal from database. All correspondig data (history, comments, posts) would be removed too. ")]),a("v-btn",{staticClass:"button",attrs:{color:"error",disabled:t.locked},on:{click:t.handleDelete}},[t._v("Delete signal")])],1)],1):t._e()],1):t._e()},Ne=[],De=(a("7db0"),a("13d5"),a("d3b7"),a("25f0"),a("2909")),Ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,price:0,comment:"",signalId:0},t)},qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,price:0,volume:0,comment:"",signalId:0,type:"take profit"},t)},Fe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,price:0,volume:0,comment:"",signalId:0,type:"stop loss"},t)},He=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(X["a"])({id:0,status:"delayed",profitability:0,ticker:"",title:"",channel:{name:""},price:0,type:"long",risk:"low",term:"long",volume:0,paid:!1,commentable:!0,remaining:1,userId:0,comments:[],entryPoints:[],takeProfitOrders:[],stopLossOrders:[]},t)},Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[a("v-row",{staticClass:"SignalData"},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:t.requiredRules,label:t.$t("Ticker"),required:"","hide-details":"auto",disabled:t.disabled},model:{value:t.model.ticker,callback:function(e){t.$set(t.model,"ticker",e)},expression:"model.ticker"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Title"),hint:t.$t("edit.title_hint"),"persistent-hint":"",disabled:t.disabled},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Channel"),hint:t.$t("edit.channel_hint"),"persistent-hint":"",disabled:t.disabled},model:{value:t.model.channel.name,callback:function(e){t.$set(t.model.channel,"name",e)},expression:"model.channel.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("Type"),items:t.typesOptions,"hide-details":"auto",required:"",disabled:t.disabled},model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("Risk"),items:t.riskOptions,"hide-details":"auto",required:"",disabled:t.disabled},model:{value:t.model.risk,callback:function(e){t.$set(t.model,"risk",e)},expression:"model.risk"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("Terms"),items:t.termsOptions,"hide-details":"auto",required:"",disabled:t.disabled},model:{value:t.model.term,callback:function(e){t.$set(t.model,"term",e)},expression:"model.term"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Volume"),required:"","hide-details":"auto","append-icon":"mdi-information-outline",disabled:t.disabled},on:{"click:append":function(e){e.stopPropagation(),t.showVolumeInfo=!0}},model:{value:t.model.volume,callback:function(e){t.$set(t.model,"volume",t._n(e))},expression:"model.volume"}}),a("popup",{attrs:{title:t.$t("Recommended volume"),text:"Blah-blah-blah"},model:{value:t.showVolumeInfo,callback:function(e){t.showVolumeInfo=e},expression:"showVolumeInfo"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:t.$t("Paid signal"),hint:t.$t("edit.paid_signal_hint"),"persistent-hint":"",required:"",disabled:t.disabled},model:{value:t.model.paid,callback:function(e){t.$set(t.model,"paid",e)},expression:"model.paid"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:t.$t("Comments"),hint:t.$t("edit.comments_hint"),"persistent-hint":"",required:"",disabled:t.disabled},model:{value:t.model.commentable,callback:function(e){t.$set(t.model,"commentable",e)},expression:"model.commentable"}})],1)],1)],1)},Be=[],Me=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.formValid=!0,t}return Object(o["a"])(a,[{key:"validate",value:function(){this.$refs.form.validate()}},{key:"resetValidation",value:function(){this.$refs.form.clear()}}]),a}(d["d"]);Me=Object(u["a"])([d["a"]],Me);var Ke=Me,Je=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.showVolumeInfo=!1,t.requiredRules=[function(t){return!!t||"Field is required"}],t.typesOptions=[{value:"long",text:t.$t("Long")},{value:"short",text:t.$t("Short")}],t.riskOptions=[{value:"high",text:t.$t("High")},{value:"medium",text:t.$t("Medium")},{value:"low",text:t.$t("Low")}],t.termsOptions=[{value:"short",text:t.$t("Short")},{value:"medium",text:t.$t("Medium")},{value:"long",text:t.$t("Long")}],t}return a}(Object(d["b"])(ce,Ke));Object(u["a"])([Object(d["c"])({type:Boolean,required:!1})],Je.prototype,"disabled",void 0),Je=Object(u["a"])([Object(d["a"])({components:{Popup:be},mixins:[ce,Ke]})],Je);var Ye=Je,We=Ye,ze=a("ac7c"),Ze=a("b974"),Qe=Object(g["a"])(We,Ge,Be,!1,null,null,null),Xe=Qe.exports;_()(Qe,{VCheckbox:ze["a"],VCol:bt["a"],VForm:Ot["a"],VRow:_t["a"],VSelect:Ze["a"],VTextField:kt["a"]});var ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"SignalEditPanel"},[a("v-card-title",[a("span",{staticClass:"SignalEditPanel--title"},[t._v(t._s(t.title))]),a("v-spacer"),t.onAdd?a("span",{staticClass:"SignalEditPanel--add-button"},[a("v-btn",{attrs:{text:"",color:"blue lighten-3"},on:{click:t.onAdd}},[t._v(t._s(t.$t("+ Add more")))])],1):t._e()],1),a("v-card-text",[t._t("default"),t.error?a("div",{staticClass:"text-caption red--text lighten-2",attrs:{color:"error"},domProps:{innerHTML:t._s(t.error)}}):t._e()],2)],1)},ea=[],aa=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return a}(d["d"]);Object(u["a"])([Object(d["c"])({type:String,required:!1})],aa.prototype,"title",void 0),Object(u["a"])([Object(d["c"])({type:String,required:!1})],aa.prototype,"error",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!1})],aa.prototype,"onAdd",void 0),aa=Object(u["a"])([Object(d["a"])({components:{}})],aa);var ra=aa,na=ra,ia=Object(g["a"])(na,ta,ea,!1,null,null,null),sa=ia.exports;_()(ia,{VBtn:K["a"],VCard:ht["a"],VCardText:mt["b"],VCardTitle:mt["c"],VSpacer:yt["a"]});var oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"SignalEntryPoint"},[a("v-col",{staticClass:"d-flex justify-center align-center order",attrs:{cols:"12",sm:"1"}},[t._v(" "+t._s(t.order)+" ")]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{type:"number",rules:t.requiredRules,label:t.$t("Price"),required:"",dense:"","hide-details":"",disabled:t.disabled},model:{value:t.model.price,callback:function(e){t.$set(t.model,"price",t._n(e))},expression:"model.price"}})],1),a("v-col",{staticClass:"pr-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{dense:"",label:t.$t("Comment"),"hide-details":"",disabled:t.disabled},model:{value:t.model.comment,callback:function(e){t.$set(t.model,"comment",e)},expression:"model.comment"}})],1),a("v-col",{staticClass:"pl-0 d-flex justify-center align-center",attrs:{cols:"12",sm:"1"}},[a("v-btn",{attrs:{icon:"",small:"",disabled:t.disabled},on:{click:t.onDelete}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-trash-can-outline ")])],1)],1)],1)},la=[],ca=(a("a9e3"),function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.requiredRules=[function(t){return!!t||"Field is required"}],t}return a}(Object(d["b"])(ce)));Object(u["a"])([Object(d["c"])({type:Number,required:!0})],ca.prototype,"order",void 0),Object(u["a"])([Object(d["c"])({type:Boolean,required:!1})],ca.prototype,"disabled",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!0})],ca.prototype,"onDelete",void 0),ca=Object(u["a"])([Object(d["a"])({components:{},mixins:[ce]})],ca);var ua=ca,da=ua,pa=(a("542e"),Object(g["a"])(da,oa,la,!1,null,"cd804ebe",null)),va=pa.exports;_()(pa,{VBtn:K["a"],VCol:bt["a"],VIcon:Y["a"],VRow:_t["a"],VTextField:kt["a"]});var fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"SignalOrder"},[a("v-col",{staticClass:"d-flex justify-center align-center order",attrs:{cols:"12",sm:"1"}},[t._v(" "+t._s(t.order)+" ")]),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{type:"number",rules:t.requiredRules,label:t.$t("Price"),required:"","hide-details":"",disabled:t.disabled},model:{value:t.model.price,callback:function(e){t.$set(t.model,"price",t._n(e))},expression:"model.price"}})],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-text-field",{attrs:{type:"number",rules:t.requiredRules,label:t.$t("Volume"),suffix:"%",required:"","hide-details":"",disabled:t.disabled},model:{value:t.volume,callback:function(e){t.volume=t._n(e)},expression:"volume"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{label:t.$t("Comment"),"hide-details":"",disabled:t.disabled},model:{value:t.model.comment,callback:function(e){t.$set(t.model,"comment",e)},expression:"model.comment"}})],1),a("v-col",{staticClass:"pb-0 d-flex justify-center align-center",attrs:{cols:"12",sm:"1"}},[a("v-btn",{attrs:{icon:"",small:"",disabled:t.disabled},on:{click:t.onDelete}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-trash-can-outline ")])],1)],1)],1)},ha=[],ma=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.requiredRules=[function(t){return!!t||"Field is required"}],t}return Object(o["a"])(a,[{key:"volume",get:function(){return 100*this.model.volume},set:function(t){this.model.volume=t/100}}]),a}(Object(d["b"])(ce));Object(u["a"])([Object(d["c"])({type:Number,required:!0})],ma.prototype,"order",void 0),Object(u["a"])([Object(d["c"])({type:Boolean,required:!1})],ma.prototype,"disabled",void 0),Object(u["a"])([Object(d["c"])({type:Function,required:!0})],ma.prototype,"onDelete",void 0),ma=Object(u["a"])([Object(d["a"])({components:{},mixins:[ce]})],ma);var ba=ma,ga=ba,Oa=(a("0ebf"),Object(g["a"])(ga,fa,ha,!1,null,"001aaae5",null)),_a=Oa.exports;_()(Oa,{VBtn:K["a"],VCol:bt["a"],VIcon:Y["a"],VRow:_t["a"],VTextField:kt["a"]});var ya=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.takeProfitError="",t.stopLossError="",t.entryPointError="",t.takeProfitOrdersValid=!0,t.stopLossOrdersValid=!0,t.entryPointsValid=!0,t.signal=Object(X["a"])({},He()),t}return Object(o["a"])(a,[{key:"handleEntryPointAdd",value:function(){this.signal.entryPoints=[].concat(Object(De["a"])(this.signal.entryPoints),[Ue({signalId:this.signal.id})])}},{key:"handleEntryPointDelete",value:function(t){this.signal.entryPoints=this.signal.entryPoints.filter((function(e,a){return a!==t}))}},{key:"handleTakeProfitAdd",value:function(){this.signal.takeProfitOrders=[].concat(Object(De["a"])(this.signal.takeProfitOrders),[qe({signalId:this.signal.id})])}},{key:"handleTakeProfitDelete",value:function(t){this.signal.takeProfitOrders=this.signal.takeProfitOrders.filter((function(e,a){return a!==t}))}},{key:"handleStopLossAdd",value:function(){this.signal.stopLossOrders=[].concat(Object(De["a"])(this.signal.stopLossOrders),[Fe({signalId:this.signal.id})])}},{key:"handleStopLossDelete",value:function(t){this.signal.stopLossOrders=this.signal.stopLossOrders.filter((function(e,a){return a!==t}))}},{key:"fetch",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.params.signalId,"new"!==e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,this.setLoading(!0),t.next=7,ee(e);case 7:a=t.sent,r=a.signal,this.signal=He(r),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),this.$toasted.error("Unable to load signal");case 15:return t.prev=15,this.setLoading(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[3,12,15,18]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.fetch()}},{key:"validate",value:function(){this.takeProfitError="",this.stopLossError="",this.entryPointError="",this.takeProfitOrdersValid=!0,this.stopLossOrdersValid=!0,this.entryPointsValid=!0,this.$refs.signalData.validate(),this.$refs.entryPointsRef.validate(),this.$refs.takeProfitOrdersRef.validate(),this.$refs.stopLossOrdersRef.validate();var t=this.signal.entryPoints.length>0;t||(this.entryPointError=this.$t("edit.entry_point_must_exists"));var e=this.signal.takeProfitOrders.length>0;e||(this.takeProfitError=this.$t("edit.take_profit_must_exists"));var a=this.signal.stopLossOrders.length>0;if(a||(this.stopLossError=this.$t("edit.stop_loss_must_exists")),this.entryPointError||this.takeProfitError||this.stopLossError)return!1;var r=this.signal.takeProfitOrders.reduce((function(t,e){return t+e.volume}),0);1!==r&&(this.takeProfitError=this.$t("edit.take_profit_must_be_1"));var n=this.signal.stopLossOrders.reduce((function(t,e){return t+e.volume}),0);if(1!==n&&(this.stopLossError=this.$t("edit.stop_loss_must_be_1")),this.takeProfitError||this.stopLossError)return!1;var i=Math.max.apply(Math,Object(De["a"])(this.signal.entryPoints.map((function(t){return t.price})))),s=Math.min.apply(Math,Object(De["a"])(this.signal.entryPoints.map((function(t){return t.price}))));if("long"===this.signal.type){var o=this.signal.takeProfitOrders.find((function(t){return t.price<=i}));if(o)return this.takeProfitError=this.$t("edit.long_take_profit_must_be_greater_then_entry_points"),!1;var l=this.signal.stopLossOrders.find((function(t){return t.price>=s}));if(l)return this.stopLossError=this.$t("edit.long_stop_loss_must_be_less_then_entry_points"),!1}else if("short"===this.signal.type){var c=this.signal.takeProfitOrders.find((function(t){return t.price>=s}));if(c)return this.takeProfitError=this.$t("edit.short_take_profit_must_be_less_then_entry_points"),!1;var u=this.signal.stopLossOrders.find((function(t){return t.price<=i}));if(u)return this.stopLossError=this.$t("edit.short_stop_loss_must_be_greater_then_entry_points"),!1}return!0}},{key:"handleSave",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validate()){t.next=2;break}return t.abrupt("return");case 2:if(e=this.signal.channel||{name:""},a={id:this.signal.id,status:this.signal.status||"active",profitability:parseFloat(this.signal.profitability.toString())||0,ticker:this.signal.ticker,title:this.signal.title||this.signal.ticker,channel:{name:e.name||""},price:parseFloat(this.signal.price.toString())||0,type:this.signal.type,risk:this.signal.risk,term:this.signal.term,volume:parseFloat(this.signal.volume.toString()),paid:!!this.signal.paid,commentable:!!this.signal.commentable,date:this.signal.date||new Date,post:this.signal.post||"",comments:[],entryPoints:this.signal.entryPoints||[],takeProfitOrders:this.signal.takeProfitOrders||[],stopLossOrders:this.signal.stopLossOrders||[]},this.setLoading(!0),t.prev=5,!a.id){t.next=12;break}return t.next=9,re(a);case 9:this.signal=t.sent,t.next=15;break;case 12:return t.next=14,ae(a);case 14:this.signal=t.sent;case 15:this.$toasted.success("Signal saved"),t.next=22;break;case 18:return t.prev=18,t.t0=t["catch"](5),this.$toasted.error("Unable to save signal!"),t.abrupt("return");case 22:return t.prev=22,this.setLoading(!1),t.finish(22);case 25:this.handleClose();case 26:case"end":return t.stop()}}),t,this,[[5,18,22,25]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleClose",value:function(){this.$router.back()}},{key:"handleDelete",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$t("edit.delete_signal_confirm"),!this.signal.id||!confirm(e)){t.next=10;break}return this.setLoading(!0),t.prev=3,t.next=6,ne(this.signal.id);case 6:return t.prev=6,this.setLoading(!1),t.finish(6);case 9:this.handleClose();case 10:case"end":return t.stop()}}),t,this,[[3,,6,9]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"locked",get:function(){return 1!==this.signal.remaining}}]),a}(Object(d["b"])(Et));ya=Object(u["a"])([Object(d["a"])({components:{SignalData:Xe,SignalEditPanel:sa,SignalEntryPoint:va,SignalOrder:_a},mixins:[Et]})],ya);var ka=ya,ja=ka,xa=(a("380e"),Object(g["a"])(ja,Re,Ne,!1,null,"517024e8",null)),wa=xa.exports;_()(xa,{VBtn:K["a"],VCard:ht["a"],VCardText:mt["b"],VCardTitle:mt["c"],VCol:bt["a"],VContainer:gt["a"],VForm:Ot["a"],VRow:_t["a"]});var Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"SignalsUpload"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"text-h2"},[t._v("CSV upload")])]),a("v-col",{attrs:{cols:"12",sm:"4"}}),a("v-col",{staticClass:"text-right",attrs:{cols:"12",sm:"4"}},[a("v-file-input",{attrs:{accept:".csv",label:"CSV file with signals",multiple:!1,"show-size":""},on:{change:t.handleUpload}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"border-c checkboxes",attrs:{rowspan:"2"}}),a("th",{staticClass:"border-c date-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Date"))+" ")]),a("th",{staticClass:"border-c currency",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Currency"))+" ")]),a("th",{staticClass:"border-c type-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Type"))+" ")]),a("th",{staticClass:"border-c risk-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Risk"))+" ")]),a("th",{staticClass:"border-c term-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Term"))+" ")]),a("th",{staticClass:"border-c Volume",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Volume"))+" ")]),a("th",{staticClass:"border-c entry-points-head",attrs:{colspan:"2"}},[t._v(" "+t._s(t.$t("Entry points"))+" ")]),a("th",{staticClass:"border-c take-profit-head",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("Take profit"))+" ")]),a("th",{staticClass:"border-c stop-loss-head",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("Stop loss"))+" ")]),a("th",{staticClass:"border-o post-head",attrs:{rowspan:"2"}},[t._v(" "+t._s(t.$t("Post"))+" ")])]),a("tr",[a("th",{staticClass:"border-l entrry-point-price-head"},[t._v(" "+t._s(t.$t("Price"))+" ")]),a("th",{staticClass:"border-l entrry-point-comment-head"},[t._v(" "+t._s(t.$t("Comment"))+" ")]),a("th",{staticClass:"border-l take-profit-price-head"},[t._v(" "+t._s(t.$t("Price"))+" ")]),a("th",{staticClass:"border-l take-profit-volume-head"},[t._v(" "+t._s(t.$t("Volume"))+" ")]),a("th",{staticClass:"border-l take-profit-comment-head"},[t._v(" "+t._s(t.$t("Comment"))+" ")]),a("th",{staticClass:"border-l stop-loss-price-head"},[t._v(" "+t._s(t.$t("Price"))+" ")]),a("th",{staticClass:"border-l stop-loss-volume-head"},[t._v(" "+t._s(t.$t("Volume"))+" ")]),a("th",{staticClass:"border-l stop-loss-comment-head"},[t._v(" "+t._s(t.$t("Comment"))+" ")])])]),a("tbody",[t._l(t.rows,(function(e,r){return[a("tr",{key:r,class:"table-row "+(e.ok?"":"error")},[a("td",{staticClass:"text-center"},[a("v-checkbox",{attrs:{dense:"","hide-details":"",disabled:!e.ok||t.rows.saved,value:r},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("td",{staticClass:"text-center"},[t._v(t._s(t._f("dayjs")(e.date,"format","HH:mm DD.MM.YYYY")))]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.title)+" "),a("br"),t._v(" ("+t._s(e.ticker)+") ")]),a("td",[t._v(t._s(e.type))]),a("td",[t._v(t._s(e.risk))]),a("td",[t._v(t._s(e.term))]),a("td",[t._v(t._s(e.volume))]),a("td",[t._l(e.entryPoints,(function(e,r){return[a("div",{key:r},[t._v(t._s(e.price))])]}))],2),a("td",[t._l(e.entryPoints,(function(e,r){return[a("div",{key:r},[t._v(t._s(e.comment))])]}))],2),a("td",[t._l(e.takeProfitOrders,(function(e,r){return[a("div",{key:r},[t._v(t._s(e.price))])]}))],2),a("td",[t._l(e.takeProfitOrders,(function(e,r){return[a("div",{key:r},[t._v(t._s(100*e.volume)+"%")])]}))],2),a("td",[t._l(e.takeProfitOrders,(function(e,r){return[a("div",{key:r},[t._v(t._s(e.comment))])]}))],2),a("td",[t._l(e.stopLossOrders,(function(e,r){return[a("div",{key:r},[t._v(t._s(e.price))])]}))],2),a("td",[t._l(e.stopLossOrders,(function(e,r){return[a("div",{key:r},[t._v(t._s(100*e.volume)+"%")])]}))],2),a("td",[t._l(e.stopLossOrders,(function(e,r){return[a("div",{key:r},[t._v(t._s(e.comment))])]}))],2),a("td",{staticClass:"post-cell"},[t._v(t._s(e.post))])])]}))],2)]},proxy:!0}])})],1)],1),a("v-row",[a("v-col",{staticClass:"button-box text-right",attrs:{cols:"12"}},[a("v-btn",{staticClass:"ml-4",attrs:{color:"success",disabled:!t.selected.length},on:{click:t.handleSave}},[t._v("Save")])],1)],1)],1)},Ca=[],Pa=(a("c975"),a("fb6a"),a("1276"),a("4f96")),La=a("3835"),Ea=a("369b"),Ta=a.n(Ea),Va=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.selected=[],t.rows={},t}return Object(o["a"])(a,[{key:"parseEntryPoints",value:function(t){var e=t.split(/\|/);return e.map((function(t){var e=t.split(/\//),a=Object(La["a"])(e,2),r=a[0],n=a[1],i={price:parseFloat(r),comment:n,signalId:0,ok:!0};return i.ok=!isNaN(i.price),i}))}},{key:"parseOrders",value:function(t){var e=t.split(/\|/),a=function(t){return-1===t.indexOf("%")?null:parseFloat(t.replace(/[^0-9]/g,""))/100};return e.map((function(t){var e=t.split(/\//),r=Object(La["a"])(e,3),n=r[0],i=r[1],s=r[2],o={price:parseFloat(n),volume:a(i),comment:s,signalId:0,ok:!0};return o.ok=!isNaN(o.price)&&!isNaN(o.price),o}))}},{key:"parseCsv",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.rows=e.map((function(t,e){var r=Object(La["a"])(t,10),n=r[0],i=r[1],s=r[2],o=r[3],l=r[4],c=r[5],u=r[6],d=r[7],p=r[8],v=r[9],f={order:e,date:new Date(n),title:i,ticker:i.toUpperCase().replace(/[^A-Z]/g,""),type:s.toLowerCase(),risk:o.toLowerCase(),term:l.toLowerCase(),volume:parseFloat(c.replace(/[^0-9]/g,""))/100,entryPoints:a.parseEntryPoints(u),takeProfitOrders:a.parseOrders(d),stopLossOrders:a.parseOrders(p),post:v,ok:!0,status:"delayed",commentable:!0,paid:!0};return f.ok=!isNaN(f.date.getTime())&&!!f.ticker&&!isNaN(f.volume)&&!f.entryPoints.find((function(t){return!t.ok}))&&!f.takeProfitOrders.find((function(t){return!t.ok}))&&!f.stopLossOrders.find((function(t){return!t.ok})),f})),console.log(JSON.stringify(this.rows));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleUpload",value:function(t){var e=this;this.rows=[];var a=Object(La["a"])(t,1),r=a[0],n=new FileReader;n.onload=function(t){if(t.target&&t.target.result){var a=Ta.a.parse(t.target.result,{skipEmptyLines:!0}),r=a.data;if(r){var n=Object(Pa["a"])(r),i=n.slice(1);i&&i.length&&e.parseCsv(i)}}},n.readAsText(r||"")}},{key:"handleSave",value:function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.selected.map((function(t){var e=n.rows[t];return delete e.order,delete e.ok,e.entryPoints.forEach((function(t){delete t.order,delete t.ok})),e.takeProfitOrders.forEach((function(t){delete t.order,delete t.ok})),e.stopLossOrders.forEach((function(t){delete t.order,delete t.ok})),e})),t.next=3,ie(e);case 3:if(a=t.sent,r=a.signalsIds,Array.isArray(r)){t.next=8;break}return this.$toasted.error(this.$t("Unable to uploade some signals")),t.abrupt("return");case 8:this.$toasted.success(this.$t("Signals successfully uploaded")),this.selected.forEach((function(t){n.rows[t].saved=!0}));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),a}(d["d"]);Va=Object(u["a"])([Object(d["a"])({components:{Popup:be}})],Va);var $a=Va,Aa=$a,Ia=(a("c999"),a("23a7")),Ra=a("1f4f"),Na=Object(g["a"])(Aa,Sa,Ca,!1,null,null,null),Da=Na.exports;_()(Na,{VBtn:K["a"],VCheckbox:ze["a"],VCol:bt["a"],VContainer:gt["a"],VFileInput:Ia["a"],VRow:_t["a"],VSimpleTable:Ra["a"]}),r["a"].use(ct["a"]);var Ua=[{path:"/login",name:"login",component:St,meta:{title:"Login"}},{path:"/",name:"dashboard",component:Ie,meta:{auth:!0,title:"Dashboard",showInMenu:!0,icon:"mdi-view-dashboard"}},{path:"/signals/upload",name:"signals-upload",component:Da,meta:{auth:!0,showInMenu:!0,icon:"mdi-table-arrow-up",title:"Signals CSV upload"}},{path:"/signals/:signalId",name:"signal-edit",component:wa,meta:{auth:!0,title:"Signal edit"}}],qa=new ct["a"]({mode:"history",base:"/",routes:Ua});qa.beforeEach(function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a,r){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Router: to ".concat(e.name,", params: ").concat(JSON.stringify(e.params))),n=e.meta&&e.meta.title,document.title=n?"Binance tracker :: ".concat(n):"Binance tracker",i=e.meta&&e.meta.auth,i){t.next=6;break}return t.abrupt("return",r());case 6:if(Qa.getters.isLoggedOn){t.next=9;break}return t.next=9,Qa.dispatch(F.CHECK_AUTH_TOKEN,{next:e.name,params:e.params});case 9:if(Qa.getters.isLoggedOn){t.next=11;break}return t.abrupt("return",r({name:"login"}));case 11:return t.abrupt("return",r());case 12:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}());var Fa,Ha,Ga=qa,Ba=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,i,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=a.username,i=a.password,console.log("ACTION login",n,i),r(q.LOADING,{loading:!0}),r(q.SET_AUTH_TOKEN,{token:null}),t.prev=5,t.next=8,Qt(n,i);case 8:return s=t.sent,o=s.token,l=s.user,r(q.SET_AUTH_TOKEN,{token:o}),r(q.SET_USER,{user:l}),t.abrupt("return",Ga.push({name:"dashboard"}));case 16:t.prev=16,t.t0=t["catch"](5),r(q.SET_AUTH_TOKEN,{token:null}),r(q.SET_USER,{user:null}),console.error("Login error"),console.error(t.t0);case 22:return t.prev=22,r(q.LOADING,{loading:!1}),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[5,16,22,25]])})));return function(e,a){return t.apply(this,arguments)}}(),Ma=function(t){var e=t.commit;e(q.SET_AUTH_TOKEN,{token:null}),e(q.SET_USER,{user:null}),Ga.push({name:"login"}).catch((function(){}))},Ka=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,i,s,o,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.state,n=e.commit,i=a.next,s=a.params,console.log("ACTION loadUserInfo"),n(q.LOADING,{loading:!0,message:"Authenticating..."}),o=r.token,Zt(o),t.prev=6,o){t.next=9;break}return t.abrupt("return",Ga.push({name:"login"}).catch((function(){})));case 9:return t.next=11,Xt();case 11:l=t.sent,c=l.user,u=l.token,n(q.SET_USER,{user:c}),n(q.SET_AUTH_TOKEN,{token:u}),Ga.push({name:i||"dashboard",params:s||{}}).catch((function(){})),t.next=26;break;case 19:return t.prev=19,t.t0=t["catch"](6),n(q.SET_AUTH_TOKEN,{token:null}),n(q.SET_USER,{user:null}),console.error("Check auth user error"),console.error(t.t0),t.abrupt("return",Ga.push({name:"login"}).catch((function(){})));case 26:return t.prev=26,n(q.LOADING,{loading:!1}),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[6,19,26,29]])})));return function(e,a){return t.apply(this,arguments)}}(),Ja=function(){var t=Object(lt["a"])(regeneratorRuntime.mark((function t(e,a){var r,n,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state,r=e.commit,n=a.page,i=a.perPage,s=a.filter,console.log("ACTION loadUserInfo"),r(q.LOADING,{loading:!0,message:"Authenticating..."}),t.prev=4,t.next=7,te({page:n,perPage:i,filter:s});case 7:return o=t.sent,r(q.SET_SIGNALS,{signals:o.data}),r(q.SET_AVAILABLE_SIGNALS,{available:o.available}),t.abrupt("return",o);case 13:t.prev=13,t.t0=t["catch"](4),console.error("Check auth user error"),console.error(t.t0);case 17:return t.prev=17,r(q.LOADING,{loading:!1}),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[4,13,17,20]])})));return function(e,a){return t.apply(this,arguments)}}(),Ya=(Fa={},Object(ot["a"])(Fa,F.LOGIN,Ba),Object(ot["a"])(Fa,F.LOGOUT,Ma),Object(ot["a"])(Fa,F.CHECK_AUTH_TOKEN,Ka),Object(ot["a"])(Fa,F.LOAD_SIGNALS,Ja),Fa),Wa=(a("cb29"),Ha={},Object(ot["a"])(Ha,q.LOADING,(function(t,e){var a=e.loading,r=e.message;t.loading=a,t.loadingMessage=r})),Object(ot["a"])(Ha,q.SET_AUTH_TOKEN,(function(t,e){var a=e.token;t.token=a})),Object(ot["a"])(Ha,q.SET_USER,(function(t,e){var a=e.user;t.user=a})),Object(ot["a"])(Ha,q.SET_SIGNALS,(function(t,e){var a=e.signals;t.signals=a.map((function(t){return Object(X["a"])({sparkline:new Array(30).fill(0)},t)}))})),Object(ot["a"])(Ha,q.SET_AVAILABLE_SIGNALS,(function(t,e){var a=e.available;t.available=a})),Ha),za={isLoggedOn:function(t){return!!(t.token&&t.user&&t.user.id)}};r["a"].use(nt["a"]);var Za=new nt["a"].Store({state:st,mutations:Wa,actions:Ya,getters:za,plugins:[Object(it["a"])({paths:["token"]})]});Za.subscribe((function(t,e){var a=t.type,n=t.payload;if(a===q.SET_AUTH_TOKEN)console.log("Mutation ".concat(a," subscription")),Zt(e.token);else if(a===q.SET_AVAILABLE_SIGNALS){var i=n.available;console.log("Mutation ".concat(q.SET_AVAILABLE_SIGNALS," subscription with available signals ").concat(i.join(","))),ir.send({event:"subscribe_signals",payload:{signals:i}}),ir.send({event:"subscribe_sparklines",payload:{signals:i}}),r["a"].toasted.success("Subscribed to signals")}}));var Qa=Za,Xa=a("b8ce"),tr=a.n(Xa),er=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(t){var r;return Object(s["a"])(this,a),r=e.call(this),r.messageId=1,r.ws=new et["a"](t),r.ws.addEventListener("open",(function(){r.emit("open")})),r.ws.addEventListener("close",(function(){r.emit("close")})),r.ws.addEventListener("message",(function(t){var e=t.data,a=JSON.parse(e),n=a.event,i=a.payload;r.emit(n,i)})),r}return Object(o["a"])(a,[{key:"send",value:function(t){t.id||(t.id=this.messageId++),t.token||(t.token=Qa.state.token),rt.a.debug("WS.send:: payload: ".concat(JSON.stringify(t))),this.ws.send(JSON.stringify(t))}}]),a}(tt["EventEmitter"]),ar=new er(Wt),rr=(new Date).getTime();ar.on("sparkline",(function(t){var e=t.sparkline,a=t.ticker,r=(new Date).getTime();if(r-rr>1e3){rr=r;var n=tr()(Qa.state.signals);n.forEach((function(t){t.ticker===a&&(t.sparkline=e)})),Qa.commit(q.SET_SIGNALS,{signals:n})}}));var nr=function(t){console.log("WS.updateSignals:: signals = ".concat(JSON.stringify(t)));var e=tr()(Qa.state.signals);t.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=Object(X["a"])(Object(X["a"])({},e[a]),t):e.push(t)})),Qa.commit(q.SET_SIGNALS,{signals:e})};ar.on("open",(function(){console.log("Websocket (re)connected"),r["a"].toasted.info("You are online now"),Qa.state.available.length&&(console.log("Resubscribing to existing available signals ".concat(Qa.state.available.join(","))),Qa.commit(q.SET_AVAILABLE_SIGNALS,{available:Qa.state.available}))})),ar.on("close",(function(){console.log("Websocket disconnected"),r["a"].toasted.error("You are offline, reconnecting...")})),ar.on("signals",nr),ar.on("signal",(function(t){return nr([t])}));var ir=ar,sr=function(t){Object(l["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"handleLogout",value:function(){H(this.$store)}},{key:"hideControls",get:function(){return!this.isLoggedOn||"login"===this.$route.name}}]),a}(d["d"]);Object(u["a"])([Object(p["b"])("isLoggedOn")],sr.prototype,"isLoggedOn",void 0),sr=Object(u["a"])([Object(d["a"])({components:{Loader:x,Drawer:Q}})],sr);var or=sr,lr=or,cr=(a("5c0b"),a("7496")),ur=a("40dc"),dr=a("adda"),pr=a("f6c4"),vr=Object(g["a"])(lr,n,i,!1,null,null,null),fr=vr.exports;_()(vr,{VApp:cr["a"],VAppBar:ur["a"],VBtn:K["a"],VImg:dr["a"],VMain:pr["a"],VSpacer:yt["a"]});var hr=a("9483");Object(hr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.location.reload(!0)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var mr=a("f309");r["a"].use(mr["a"]);var br=new mr["a"]({}),gr=a("a65d"),Or=a.n(gr);r["a"].use(Or.a,{duration:1e3,keepOnHover:!0,position:"bottom-center",fullWidth:!0});var _r=a("01ac");r["a"].use(_r["a"],{lang:"en",filters:{format:"format"},directives:{}});var yr=a("a925"),kr=a("df7f");r["a"].use(yr["a"]);var jr={ru:kr},xr=new yr["a"]({locale:"ru",messages:jr});r["a"].config.productionTip=!1,new r["a"]({router:Ga,store:Qa,vuetify:br,i18n:xr,render:function(t){return t(fr)}}).$mount("#app")},cf05:function(t,e,a){t.exports=a.p+"img/logo.527d3a46.png"},dcf5:function(t,e,a){"use strict";var r=a("176d"),n=a.n(r);n.a},df7f:function(t){t.exports=JSON.parse('{"Signal information":"Информация о сигнале","Entry points":"Точки входа","Take profits":"Take profit","Stop losses":"Stop loss","Comment":"Комментарий","Comments":"Комментарии","Paid signal":"Платный сигнал","Price":"Цена","Recommended volume":"Рекомендованный объём","Risk":"Риск","Terms":"Срочность","Ticker":"Валюта","Type":"Тип","Volume":"Объём","+ Add more":"+ Добавить ещё","High":"Высокий","Long":"Длинный","Low":"Низкий","Medium":"Средний","Short":"Короткий","updated at":"обновлён в","Details":"Подробности","Title":"Название","Currency":"Валюта","Published":"Опубликован","Current price":"Текущая цена","Profitability":"Доходность","Status":"Статус","Triggered price":"Триг.цена","Delayed":"Отложенный","Active":"Активный","Finished":"Отработанный","Cancelled":"Отменённый","Current exit price":"Тек.цена выхода","Signal statuses":"Статусы сигнала","Entry price":"Цена входа","remains in position":"остаток в позиции","Signals":"Сигналы","Channel":"Канал-источник","statusesHelp":"Значения:<ul><li>Отложенный - цена не пересекала уровни входа</li><li>Активный - цена пересекла уровни входа и не пересекла все TP или SL </li><li>Отработал - цена пересекла SL или все TP</li><li>Отмененный - сигнал был отменен</li></ul>","edit":{"paid_signal_hint":"Ваш сигнал будет доступен только платным пользователям","comments_hint":"Разрешить другим пользователям комментировать ваш сигнал","delete_signal_confirm":"Вы уверены, что хотите удалить сигнал? Это действие нельзя будет отменить.","take_profit_must_be_1":"Сумма Take Profit должна быть равна 100%","stop_loss_must_be_1":"Сумма Stop Loss должна быть равна 100%","long_take_profit_must_be_greater_then_entry_points":"Для сигнала \'long\' все Take Profit должны превышать наивысшую точку входа","long_stop_loss_must_be_less_then_entry_points":"Для сигнала \'long\' все Stop Loss не должны превышать низшую точку входа","short_take_profit_must_be_less_then_entry_points":"Для сигнала \'long\' все Take Profit не должны превышать низшую точку входа","short_stop_loss_must_be_greater_then_entry_points":"Для сигнала \'long\' все Stop Loss должны превышать наивысшую точку входа","entry_point_must_exists":"Должна быть задана хотя бы одна точка входа","take_profit_must_exists":"Должен быть задан хотя бы один ордер Take Profit","stop_loss_must_exists":"Должен быть задан хотя бы один ордер Stop Loss","title_hint":"Человекочитаемое название валюты, используется только при отображении","channel_hint":"Название канала или источника. Используется только для отображения."},"preview":{"signal_activated":"Сигнал {title} активирован по цене {price}","signal_level_triggered":"Для сигнала {title} сработали ордера: {orders}"}}')}});
//# sourceMappingURL=app.66e5ba82.js.map